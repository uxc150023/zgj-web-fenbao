System.register(["./chunk-vform-legacy-aa92d37d.js","./chunk-vue-legacy-ac482c0f.js","./chunk-element-plus-legacy-93ba4a6a.js","./chunk-ant-design-vue-legacy-1182637d.js","./chunk-@ant-design-icons-svg-legacy-99a059a7.js","./chunk-@ant-design-icons-vue-legacy-38d6bf6a.js"],(function(e,t){"use strict";var o,a,i,l,n,r,d,s,c,f,v,u,g,p,y,b,x=document.createElement("style");return x.textContent=".vertify-box[data-v-444f0115] .el-dialog{width:277px;height:285px}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__header{display:none}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body{width:100%}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content{position:absolute;top:0;left:0;right:0;bottom:0;width:298px;background:#ffffff;box-shadow:0 8px 100px rgba(19,59,99,.07);border-radius:4px;margin:auto;z-index:9999;padding:3.237% 0 0}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap{position:relative}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .block{position:absolute;left:0;top:0;cursor:pointer;cursor:grab}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .block:active{cursor:grabbing}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer{position:relative;text-align:center;width:310px;line-height:40px;background:#dddfe0;color:#45494c;border-radius:20px;margin:4.39% 3.24%;width:93.52%;padding:0 0 13.67%;height:0}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_active .slider{top:-5px}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_active .sliderMask{border-width:1px}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_success .slider{top:-5px;background-color:#0ca14a!important}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_success .sliderMask{background-color:#d2f4ef}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_success .sliderIcon{background-position:0 -26px!important}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_fail .slider{top:-5px;background-color:#f57a7a!important}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_fail .sliderMask{background-color:#fce1e1}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_fail .sliderIcon{top:14px;background-position:0 -82px!important}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_active .sliderText,.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_success .sliderText,.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderContainer_fail .sliderText{display:none}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderMask{position:absolute;left:0;top:0;height:40px;border-top-left-radius:20px;border-bottom-left-radius:20px;background:rgba(var(--jy-primary-6),.3)}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderMask .iconpark-icon .btn1{display:inline-block}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderMask .iconpark-icon .btn2{display:none}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderMask .iconpark-icon:hover .btn2{display:inline-block}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderMask .iconpark-icon:hover .btn1{display:none}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .slider{position:absolute;top:-5px;left:0;width:50px;height:50px;cursor:pointer;cursor:grab}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .slider:active{cursor:grabbing}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .sliderIcon{margin-top:5px;font-size:18px;color:#000}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .slider:hover .sliderIcon{color:#fff}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .loadingContainer{position:absolute;left:0;top:0;width:310px;height:155px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:14px;color:#45494c;z-index:2;background:rgba(var(--jy-primary-6),.1)}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .content .vertifyWrap .loadingIcon{width:32px;height:32px;margin-bottom:10px;background:url(http://cdn.dooring.cn/dr/icon12.png);background-size:32px;animation:loading-icon-rotate-444f0115 .8s linear infinite}@keyframes loading-icon-rotate-444f0115{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .vertify-footer{height:50px;border-top:1px solid #eee;display:flex;align-items:center}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .vertify-footer .iconpark-icon{width:22px;height:22px;cursor:pointer;margin-left:10px}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .vertify-footer .image{margin:0 10px}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .vertify-footer img{cursor:pointer}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__body .vertify-footer .loading-icon{animation:loading-icon-rotate1-444f0115 .8s linear infinite}@keyframes loading-icon-rotate1-444f0115{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.vertify-box[data-v-444f0115] .el-dialog .el-dialog__footer{display:none}\n",document.head.appendChild(x),{setters:[e=>{o=e.g},e=>{a=e.k,i=e.aA,l=e.be,n=e.aF,r=e.as,d=e.o,s=e.x,c=e.bj,f=e.p,v=e.ae,u=e.a$,g=e.aT,p=e.a4,y=e.aw,b=e.at},null,null,null,null],execute:function(){const t=e=>(y("data-v-444f0115"),e=e(),b(),e),x={class:"vertify-box"},h={class:"vertify"},_={class:"content"},m={className:"canvasArea"},k=["width","height"],w=["width","height"],C=["className"],W=[t((()=>f("use",{href:"#btn1",class:"btn1"},null,-1))),t((()=>f("use",{href:"#btn2",class:"btn2"},null,-1)))],M={className:"sliderText"},T=[t((()=>f("div",{className:"loadingIcon"},null,-1))),t((()=>f("span",null,"加载中...",-1)))],I=t((()=>f("svg",{class:"iconpark-icon"},[f("use",{href:"#close"})],-1))),N=[t((()=>f("use",{href:"#flush"},null,-1)))],S={props:{title:{type:String,default:"title"},width:{type:Number,default:280},modelValue:{type:Boolean,default:!0},height:{type:Number,default:160},visible:{type:Boolean,default:()=>!0},l:{type:Number,default:42},r:{type:Number,default:9},imgUrl:{type:String,default:""},text:{type:String,default:"拖动滑块完成拼图"},onDraw:()=>{},onCustomVertify:()=>{},onBeforeRefresh:()=>{},onSuccess:()=>{},onFail:()=>{},onRefresh:()=>{}},emits:["update:modelValue","on-closed","click","on-success","on-failed"],setup(e,{emit:t}){const o=e,y=a({get:()=>o.modelValue,set(e){t("update:modelValue",e)}}),b=()=>{t("on-closed")},{text:S,l:R,r:j,imgUrl:V,width:X,height:D,visible:z,onBeforeRefresh:A,onRefresh:B,onFail:F,onSuccess:O,onCustomVertify:U,onDraw:Y}=o,$=i(!0),E=i(0),q=i("sliderContainer"),L=i(S),P=i(null),G=i(null),H=i(null),J=i(!1),K=i([]),Q=i(0),Z=i(0),ee=i(0),te=i(0),oe=Math.PI,ae=R+2*j+3,ie=(e,t,o,a)=>{e.beginPath(),e.moveTo(t,o),e.arc(t+R/2,o-j+2,j,.72*oe,2.26*oe),e.lineTo(t+R,o),e.arc(t+R+j-2,o+R/2,j,1.21*oe,2.78*oe),e.lineTo(t+R,o+R),e.lineTo(t,o+R),e.arc(t+j-2,o+R/2,j+.4,2.76*oe,1.24*oe,!0),e.lineTo(t,o),e.lineWidth=2,e.fillStyle="rgba(255, 255, 255, 0.7)",e.strokeStyle="rgba(255, 255, 255, 0.7)",e.stroke(),e.globalCompositeOperation="destination-over","fill"===a?e.fill():e.clip()},le=()=>V||`https://picsum.photos/id/${ue(0,1084)}/${X}/${D}`,ne=()=>{const e=(e=>{const t=new Image;return t.crossOrigin="Anonymous",t.onload=e,t.onerror=()=>{t.setSrc(le())},t.setSrc=e=>{if(window.navigator.userAgent.indexOf("Trident")>-1){const o=new XMLHttpRequest;o.onloadend=function(e){const o=new FileReader;o.readAsDataURL(e.target.response),o.onloadend=function(e){t.src=e.target.result}},o.open("GET",e),o.responseType="blob",o.send()}else t.src=e},t.setSrc(le()),t})((()=>{$.value=!1,(e=>{const t=P.value.getContext("2d"),o=G.value.getContext("2d");ee.value=ue(ae+10,X-(ae+10)),te.value=ue(10+2*j,D-(ae+10)),ie(t,ee.value,te.value,"fill"),ie(o,ee.value,te.value,"clip"),t.drawImage(e,0,0,X,D),o.drawImage(e,0,0,X,D);const a=te.value-2*j-1,i=o.getImageData(ee.value-3,a,ae,ae);G.value.width=ae,o.putImageData(i,0,a)})(e)}));H.value=e},re=()=>{const e=P.value.getContext("2d"),t=G.value.getContext("2d");E.value=0,q.value="sliderContainer",G.value.width=X,G.value.style.left="0px",e.clearRect(0,0,X,D),t.clearRect(0,0,X,D),A&&A(),$.value=!0,H.value.setSrc(le())},de=()=>{re(),"function"==typeof B&&B()},se=()=>{const e=K.value,t=e.reduce(ge)/e.length,o=e.map((e=>e-t)),a=Math.sqrt(o.map(pe).reduce(ge)/e.length),i=parseInt(G.value.style.left);return{spliced:Math.abs(i-ee.value)<10,verified:0!==a,left:i,destX:ee.value}},ce=function(e){Q.value=e.clientX||e.touches[0].clientX,Z.value=e.clientY||e.touches[0].clientY,J.value=!0},fe=e=>{if(!J.value)return!1;e.preventDefault();const t=e.clientX||e.touches[0].clientX,o=e.clientY||e.touches[0].clientY,a=t-Q.value,i=o-Z.value;if(a<0||a+38>=X)return!1;E.value=a;const l=(X-40-20)/(X-40)*a;G.value.style.left=l+"px",q.value="sliderContainer sliderContainer_active",K.value.push(i),Y&&Y(l)},ve=e=>{if(!J.value)return!1;if(J.value=!1,(e.clientX||e.changedTouches[0].clientX)===Q.value)return!1;q.value="sliderContainer";const{spliced:o,verified:a}=U?U(se()):se();o?a?(q.value="sliderContainer sliderContainer_success","function"==typeof O&&O(),y.value=!1,t("on-success")):(q.value="sliderContainer sliderContainer_fail",L.value="请再试一次",t("on-failed"),re()):(q.value="sliderContainer sliderContainer_fail","function"==typeof F&&F(),setTimeout(re.bind(this),1e3))},ue=(e,t)=>Math.round(Math.random()*(t-e)+e),ge=(e,t)=>e+t,pe=e=>e*e,ye=()=>{ne()};return l((()=>z),(()=>{z&&(H.value?re():ne())})),(e,t)=>{const o=n("el-dialog");return r(),d("div",x,[s(o,{modelValue:u(y),"onUpdate:modelValue":t[0]||(t[0]=e=>p(y)?y.value=e:null),width:u(X),center:"","align-center":"","destroy-on-close":"",onClosed:b,onOpen:ye},{default:c((()=>[f("div",h,[f("div",_,[f("div",{className:"vertifyWrap",style:v({width:u(X)+"px",margin:"0 auto",display:u(z)?"":"none"}),onMousemove:fe,onMouseup:ve,onTouchmove:fe,onTouchend:ve},[f("div",m,[f("canvas",{ref_key:"canvasRef",ref:P,width:u(X),height:u(D)},null,8,k),f("canvas",{ref_key:"blockRef",ref:G,className:"block",width:u(X),height:u(D),onMousedown:ce,onTouchstart:ce},null,40,w)]),f("div",{className:q.value,style:v({pointerEvents:$.value?"none":"auto"})},[f("div",{className:"sliderMask",style:v({width:E.value>0?E.value+8+"px":E.value+"px"})},[(r(),d("svg",{class:"iconpark-icon slider",style:v({left:E.value-10+"px"}),onMousedown:ce,onTouchstart:ce},W,36))],4),f("div",M,g(L.value),1)],12,C),f("div",{className:"loadingContainer",style:v({width:u(X)+"px",height:u(D)+"px",display:$.value?"":"none"})},T,4)],36),f("div",{class:"vertify-footer"},[I,f("svg",{class:"iconpark-icon",onClick:de},N)])])])])),_:1},8,["modelValue","width"])])}}};e("default",o(S,[["__scopeId","data-v-444f0115"]]))}}}));
