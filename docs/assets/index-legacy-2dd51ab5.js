!function(){function e(e,a,l){return(a=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:String(a)}(a))in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}System.register(["./chunk-vue-legacy-ac482c0f.js","./Verify-legacy-6145bb4b.js","./chunk-vform-legacy-ec3e4e6b.js","./logo-legacy-c72ed5fe.js","./chunk-element-plus-legacy-93ba4a6a.js","./index-legacy-9e64650a.js","./Layout-legacy-29845d29.js","./chunk-ant-design-vue-legacy-1182637d.js","./chunk-@ant-design-icons-svg-legacy-99a059a7.js","./chunk-@ant-design-icons-vue-legacy-38d6bf6a.js"],(function(a,l){"use strict";var t,n,o,i,s,d,r,u,p,c,m,v,f,g,h,b,y,w,x,I,k,V,_,P,S,N,j,R,A,L,O,U,C,z,T,D,q,E,F,B,M=document.createElement("style");return M.textContent=".comp-info-top[data-v-a0751600]{background-color:#fff;height:188px;width:100%;border-radius:4px;padding:24px 16px}.comp-info-top .bg[data-v-a0751600]{background:rgba(105,70,70,.04);border-radius:4px;width:100%;height:100%;display:flex;align-items:center;padding:0 24px}.comp-info-top .bg .left[data-v-a0751600]{margin-right:18px;height:72px;width:72px;border-radius:100%;display:flex;align-items:center;justify-content:center;background-color:#fff}.comp-info-top .bg .right .name[data-v-a0751600]{font-style:normal;font-weight:400;font-size:22px;line-height:30px;margin-bottom:12px;color:#212529}.comp-info-top .bg .right .label[data-v-a0751600]{display:flex}.comp-info-top .bg .right .label span[data-v-a0751600]{font-style:normal;font-weight:400;font-size:14px;line-height:22px;color:#212529}.comp-info-top .bg .right .label img[data-v-a0751600]{cursor:pointer;margin-left:14px}.comp-info-top .bg .right .input[data-v-a0751600]{display:flex;width:100%;align-items:center}.comp-info-top .bg .right .input .save[data-v-a0751600]{font-weight:400;font-size:14px;line-height:22px;color:#3e78d0;margin-right:12px;margin-left:18px;cursor:pointer;width:42px}.comp-info-top .bg .right .input .cancel[data-v-a0751600]{font-weight:400;font-size:14px;line-height:22px;color:rgba(0,0,0,.45);cursor:pointer;width:42px}.authentication-form[data-v-94c1c1d4] .el-form .el-form-item{margin-bottom:16px}.authentication-form[data-v-94c1c1d4] .el-form .el-form-item .el-form-item__label{font-family:PingFang SC;font-style:normal;font-weight:400;color:rgba(0,0,0,.65);padding:0;margin-right:16px;margin-bottom:0}.authentication-form[data-v-94c1c1d4] .el-form .el-form-item .vcode{display:flex}.authentication-form[data-v-94c1c1d4] .el-form .el-form-item .vcode button{margin-left:10px;width:124px;flex-shrink:0}.comp-info-center[data-v-aae515e5]{margin-top:16px;display:flex}.comp-info-center .left .base[data-v-aae515e5]{width:436px;background-color:#fff;padding:24px 24px 7px;margin-bottom:16px}.comp-info-center .left .base .form-content[data-v-aae515e5]{display:flex;flex-direction:column}.comp-info-center .right[data-v-aae515e5]{margin-left:16px;background-color:#fff;flex:1;padding:24px;margin-bottom:16px}.comp-info-center .header[data-v-aae515e5]{font-style:normal;font-weight:400;font-size:16px;line-height:24px;display:flex;align-items:center;position:relative;border-bottom:1px solid rgba(0,0,0,.06);padding:0 0 8px;margin-bottom:16px}.comp-info-center .header span[data-v-aae515e5]{width:3px;height:20px;background-color:var(--jy-primary-6);display:inline-block;margin-right:7px}.comp-info-center .header button[data-v-aae515e5]{position:absolute;right:0}.comp-info-center .rows[data-v-aae515e5]{display:flex;width:100%;margin-bottom:16px;align-items:center}.comp-info-center .rows .label[data-v-aae515e5]{width:108px;font-weight:400;font-size:14px;line-height:22px;text-align:right;color:rgba(0,0,0,.65);margin-right:24px}.comp-info-center .rows .content[data-v-aae515e5]{font-weight:400;font-size:14px;line-height:22px;color:rgba(0,0,0,.85)}.comp-info-center .rows img[data-v-aae515e5]{margin-left:14px;cursor:pointer}.comp-info-center .rows .tab[data-v-aae515e5]{display:inline-block;padding:0 14px;gap:10px;height:30px;line-height:30px;background:rgba(0,0,0,.04);color:rgba(0,0,0,.85)}.comp-info-center .rows .mr10[data-v-aae515e5]{margin-right:10px}.comp-info-center .w-140[data-v-aae515e5]{width:140px!important}.comp-info-center .input[data-v-aae515e5]{display:flex;align-items:center}.comp-info-center .input[data-v-aae515e5] .el-input{width:130px}.comp-info-center .input .save[data-v-aae515e5]{font-weight:400;font-size:14px;line-height:22px;color:#3e78d0;margin-right:12px;margin-left:18px;cursor:pointer;width:42px}.comp-info-center .input .cancel[data-v-aae515e5]{font-weight:400;font-size:14px;line-height:22px;color:rgba(0,0,0,.45);cursor:pointer;width:42px}.comp-info-center .color-3ED096[data-v-aae515e5]{color:#3ed096!important}.comp-info-center .color-black-045[data-v-aae515e5]{color:rgba(0,0,0,.45)!important}.comp-info-center[data-v-aae515e5] .el-form .el-form-item{margin-bottom:0}.comp-info-center[data-v-aae515e5] .el-form .el-form-item .el-form-item__label{font-weight:400;font-size:14px;text-align:right;color:rgba(0,0,0,.65);margin-right:0;margin-bottom:0}.comp-info-center[data-v-aae515e5] .el-form .el-form-item .el-checkbox__label{display:flex;flex-direction:row;align-items:center;padding:0 14px;gap:10px;height:30px;background:rgba(0,0,0,.04);color:rgba(0,0,0,.85);font-weight:400;font-size:14px;line-height:22px;margin-left:12px}.comp-info-center[data-v-aae515e5] .el-form .el-form-item .el-checkbox{padding:0;margin-right:24px}.comp-info-bottom[data-v-2361cdc9]{background-color:#fff;padding:24px}.comp-info-bottom .switch[data-v-2361cdc9]{margin-bottom:10px}.comp-info-bottom .switch span[data-v-2361cdc9]{font-weight:400;font-size:14px;line-height:22px;color:rgba(0,0,0,.85);margin-right:14px}.comp-info-bottom .upload[data-v-2361cdc9]{width:362px;display:inline-block;margin-right:14px}.comp-info-bottom .upload .uploadTip[data-v-2361cdc9]{height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center}.comp-info-bottom .upload .uploadIcon[data-v-2361cdc9]{width:60px;margin-bottom:10px}.comp-info-bottom .upload p[data-v-2361cdc9]{font-weight:400;font-size:14px;color:rgba(0,0,0,.65)}.comp-info-bottom .logoImage[data-v-2361cdc9]{width:100%;height:200px}.upload .el-upload-dragger{padding:10px}.comp-info[data-v-b43e8084]{border-radius:4px}\n",document.head.appendChild(M),{setters:[e=>{t=e.aA,n=e.aF,o=e.as,i=e.o,s=e.p,d=e.bl,r=e.bb,u=e.a$,p=e.aT,c=e.n,m=e.x,v=e.A,f=e.ay,g=e.k,h=e.bj,b=e.m,y=e.w,w=e.F,x=e.aD,I=e.a4,k=e.aw,V=e.at,_=e.be,P=e.ag,S=e.aG},e=>{N=e.a,j=e._},e=>{R=e.g,A=e.p,L=e.t,O=e.E,U=e.G,C=e.A,z=e.y,T=e.z,D=e.F},e=>{q=e.u},e=>{E=e.E},e=>{F=e.default},e=>{B=e.c},null,null,null],execute:function(){const l={class:"comp-info-top"},M={class:"bg"},$={class:"left"},J={src:"/zgj-web-fenbao/assets/verification-error-01225f0d.svg",style:{"object-fit":"fill",width:"52px",height:"28px"}},G=["src"],Y={class:"right"},H={class:"name"},W={key:0,class:"label"},Q=["src"],K={key:1,class:"input"},X=R({props:{tenant:{type:Object,required:!0}},emits:["reloadData"],setup(e,{emit:a}){const v=e,f=q(),g=A(),h=t(null),b=t(!1),y=()=>{N.editTenantTitle({tenantTitle:h.value,tenantId:localStorage.getItem("tenantId")}).then((e=>{E({message:"标题变更成功",type:"success"}),b.value=!b.value,a("reloadData"),g.setOneDeaprtTitle(h.value)}))},w=()=>{b.value=!b.value},x=()=>{h.value=v.tenant.tenantTitle,b.value=!0};return(e,a)=>{const t=n("el-input");return o(),i("div",l,[s("div",M,[s("div",$,[d(s("img",J,null,512),[[r,!u(f).homeUrl]]),d(s("img",{src:u(f).homeUrl,style:{"object-fit":"fill",width:"52px",height:"28px"}},null,8,G),[[r,u(f).homeUrl]])]),s("div",Y,[s("div",H,p(v.tenant.tenantName),1),b.value?c("",!0):(o(),i("div",W,[s("span",null,p(v.tenant.tenantTitle),1),s("img",{src:u("/zgj-web-fenbao/assets/input-2c1a70ec.svg"),onClick:x},null,8,Q)])),b.value?(o(),i("div",K,[m(t,{modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),placeholder:"请输入新的头部系统显示名称",maxlength:"256"},null,8,["modelValue"]),s("span",{class:"save",onClick:y},"保存"),s("span",{class:"cancel",onClick:w},"取消")])):c("",!0)])])])}}},[["__scopeId","data-v-a0751600"]]),Z={class:"authentication-form"},ee={key:0},ae=y("手机号验证"),le=y("邮箱验证"),te={class:"vcode"},ne={key:1},oe=y(" 下一步 "),ie=y(" 提交 "),se=y(" 取消 "),de=v({name:"ChangeSuperAdmin"}),re=Object.assign(de,{props:{visible:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},superAdminInfo:{type:Object,default:()=>({})}},emits:["update:modelValue","updateSuperAdminInfo"],setup(a,{expose:l,emit:d}){const r=a;class v{constructor(){e(this,"name",""),e(this,"data",""),e(this,"vcode",""),e(this,"verification",1),e(this,"adminId",null),e(this,"adminName","")}}const k=t(new v),V=t(null),_=t(1),P=t([]),S=t(null),R=t(-1),A=t(!1),C=t(!1),z=f({vcode:[{required:!0,message:"验证码是6位数字",trigger:"change",pattern:/^\d{6}$/}],adminId:[{required:!0,message:"超管不能为空",trigger:"change"}]}),T=g({get:()=>r.modelValue,set(e){d("update:modelValue",e)}}),D=async()=>{try{await V.value.validate(),await N.verifyCode({type:k.value.verification,contact:1===k.value.verification?r.superAdminInfo.adminTel:r.superAdminInfo.adminEmail,verifyCode:k.value.vcode}),_.value=2}catch(e){O(e)}},q=()=>{U.userPage({flag:1,current:1,size:1e4}).then((e=>{P.value=e.data.records}))},F=e=>{k.value.adminName=P.value.find((a=>a.userId===e)).accountNo},B=async()=>{await V.value.validate(((e,a)=>{e&&N.updateAdmin({adminId:k.value.adminId}).then((e=>{E({message:"超级管理员变更成功",type:"success"}),d("updateSuperAdminInfo"),_.value=1,k.value=t(new v)}))}))},M=()=>{T.value=!1,setTimeout((()=>{_.value=1,k.value=new v}),300)},$=async()=>{if(A.value){if(!S.value)try{await N.getVerificationCode({type:k.value.verification,contact:1===k.value.verification?r.superAdminInfo.adminTel:r.superAdminInfo.adminEmail}),R.value=60,S.value=setInterval((()=>{R.value<0?(clearInterval(S.value),S.value=null):R.value--}),1e3)}catch(e){}}else C.value=!0},J=()=>{clearInterval(S.value),S.value=null,R.value=-1},G=e=>{A.value=!0,$()};return l({success:G}),(e,l)=>{const t=n("el-radio"),d=n("el-radio-group"),r=n("el-form-item"),v=n("el-input"),f=n("el-button"),g=n("el-option"),S=n("el-select"),N=n("el-form");return o(),i("div",null,[m(u(L),{title:1===_.value?"身份验证":"变更超级管理员",modelValue:u(T),"onUpdate:modelValue":l[5]||(l[5]=e=>I(T)?T.value=e:null),onOnClosed:J,onOnOpened:q},{footer:h((()=>[1===_.value?(o(),b(f,{key:0,type:"primary",onClick:D},{default:h((()=>[oe])),_:1})):c("",!0),2===_.value?(o(),b(f,{key:1,type:"primary",onClick:B},{default:h((()=>[ie])),_:1})):c("",!0),m(f,{onClick:M},{default:h((()=>[se])),_:1})])),default:h((()=>[s("div",Z,[m(N,{model:k.value,"label-width":"112px",rules:u(z),ref_key:"formRef",ref:V},{default:h((()=>[1===_.value?(o(),i("div",ee,[m(r,{label:"验证方式"},{default:h((()=>[m(d,{modelValue:k.value.verification,"onUpdate:modelValue":l[0]||(l[0]=e=>k.value.verification=e)},{default:h((()=>[m(t,{label:1},{default:h((()=>[ae])),_:1}),m(t,{label:2},{default:h((()=>[le])),_:1})])),_:1},8,["modelValue"])])),_:1}),m(r,{label:"超级管理员"},{default:h((()=>[s("span",null,p(a.superAdminInfo.adminName),1)])),_:1}),m(r,{label:"超级管理员账号"},{default:h((()=>[s("span",null,p(a.superAdminInfo.accountNo),1)])),_:1}),m(r,{label:"超级管理员手机号"},{default:h((()=>[s("span",null,p(a.superAdminInfo.adminTel),1)])),_:1}),m(r,{label:"超级管理员邮箱号"},{default:h((()=>[s("span",null,p(a.superAdminInfo.adminEmail),1)])),_:1}),m(r,{label:"验证码",prop:"vcode"},{default:h((()=>[s("div",te,[m(v,{modelValue:k.value.vcode,"onUpdate:modelValue":l[1]||(l[1]=e=>k.value.vcode=e),maxlength:"6",oninput:"value=value.replace(/^\\.+|[^\\d.]/g,'')"},null,8,["modelValue"]),m(f,{type:"primary",disabled:R.value>=0,onClick:$},{default:h((()=>[y(p(R.value<0?"获取验证码":R.value+"秒后重发"),1)])),_:1},8,["disabled"])])])),_:1})])):c("",!0),2===_.value?(o(),i("div",ne,[m(r,{label:"超级管理员"},{default:h((()=>[s("span",null,p(a.superAdminInfo.adminName),1)])),_:1}),m(r,{label:"超级管理员账号"},{default:h((()=>[s("span",null,p(a.superAdminInfo.accountNo),1)])),_:1}),m(r,{label:"新的超管姓名",prop:"adminId"},{default:h((()=>[m(S,{style:{width:"264px"},modelValue:k.value.adminId,"onUpdate:modelValue":l[2]||(l[2]=e=>k.value.adminId=e),filterable:"",onChange:F},{default:h((()=>[(o(!0),i(w,null,x(P.value,(e=>(o(),b(g,{key:e.userId,label:e.userName,value:e.userId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(r,{label:"新的超管账号"},{default:h((()=>[m(v,{modelValue:k.value.adminName,"onUpdate:modelValue":l[3]||(l[3]=e=>k.value.adminName=e),disabled:"",style:{width:"264px"}},null,8,["modelValue"])])),_:1})])):c("",!0)])),_:1},8,["model","rules"])]),C.value?(o(),b(u(j),{key:0,captchaType:"blockPuzzle",modelValue:C.value,"onUpdate:modelValue":l[4]||(l[4]=e=>C.value=e),onSuccess:G,getUrl:"/tenant/tenantAdminInfo/getImageVerifyCode/blockPuzzle",checkUrl:"/tenant/tenantAdminInfo/verifyCode"},null,8,["modelValue"])):c("",!0)])),_:1},8,["title","modelValue"])])}}}),ue=R(re,[["__scopeId","data-v-94c1c1d4"]]),pe=e=>(k("data-v-aae515e5"),e=e(),V(),e),ce={class:"comp-info-center"},me={class:"left"},ve={class:"base"},fe={class:"rows"},ge={key:0,class:"content"},he={key:1},be={class:"rows"},ye={key:0,class:"content"},we={key:1},xe={class:"rows"},Ie={key:0,class:"content"},ke={key:1},Ve={class:"base"},_e={class:"form-content"},Pe={class:"rows"},Se=pe((()=>s("span",{class:"label"},"超级管理员",-1))),Ne={class:"content"},je={class:"rows"},Re=pe((()=>s("span",{class:"label"},"超级管理员账号",-1))),Ae={class:"content"},Le={class:"right"},Oe={class:"rows"},Ue={key:0,class:"content color-3ED096"},Ce={class:"rows"},ze={key:0,class:"content color-3ED096"},Te={class:"rows"},De={key:0},qe={class:"content color-3ED096"},Ee={key:0,class:"color-black-045"},Fe={key:1,style:{display:"flex","align-items":"center"}},Be={key:0},Me=pe((()=>s("span",null,"  提醒周期  ",-1))),$e=pe((()=>s("span",null,"  天",-1))),Je={class:"rows"},Ge={key:0},Ye={key:1},He={class:"rows"},We={key:0,class:"content tab"},Qe=pe((()=>s("span",{class:"color-black-045"}," 位",-1))),Ke={class:"rows"},Xe={key:0,class:"content tab"},Ze={key:1},ea={props:{tenantBaseInfo:{type:Object,required:!0},tenantAdminInfo:{type:Object,required:!0},passwordPolicy:{type:Object,required:!0}},emits:["reloadData"],setup(e,{emit:a}){const l=e,d=t(!1),r=t(!1),v=t(null),f=t(null),g=t(!1),I=t(null),k=t({tenantPm:[{required:!0,message:"请输入单位负责人",trigger:"change"}],tenantPmTel:[{required:!0,validator:(e,a,l)=>{a?/^((1[3-9][0-9]))\d{8}$|^(5|6|8|9)\d{7}$|^\d{3,4}-\d{7,8}$|^(852)?(2[1-9]|3[145679])\d{6}$/.test(a)?l():l(new Error("负责人手机号格式不正确")):l(new Error("请输入负责人手机号"))},trigger:"change"}]}),V=t([{label:"大写字母",value:"passUppercase"},{label:"小写字母",value:"passLowercase"},{label:"数字",value:"passNum"},{label:"特殊字符",value:"passSpecial"}]),_=t(null),P=t({passInitModfiy:[{required:!0,message:"请选择",trigger:"change"}],passLow:[{required:!0,message:"请选择",trigger:"change"}],passRemind:[{required:!0,message:"请选择",trigger:"change"}],passRemindNum:[{required:!0,message:"请输入密码变更提醒周期天数",trigger:"change"},{min:1,max:31,message:"提醒周期天数必须在1 ~ 31天之间",trigger:"change"}],passwordRules:[{required:!0,message:"请选择密码至少包含的内容",trigger:"change"}],passLength:[{required:!0,message:"请输入密码最小长度",trigger:"change"}],passInit:[{required:!0,message:"请输入初始密码",trigger:"change"}]}),S=e=>{"修改"===e?(I.value=JSON.parse(JSON.stringify(l.tenantBaseInfo)),d.value=!0):f.value.validate((e=>{e&&N.updateTenantBaseInfo(I.value).then((()=>{a("reloadData"),f.value.resetFields(),d.value=!1,E({message:"基础信息变更成功",type:"success"})}))}))},j=()=>{f.value.resetFields(),d.value=!1},R=()=>{g.value=!1,a("reloadData")},A=e=>{"修改"===e?(_.value=JSON.parse(JSON.stringify(l.passwordPolicy)),r.value=!r.value):v.value.validate((e=>{if(e){const e=JSON.parse(JSON.stringify(_.value)),l=e.passwordRules;delete e.passwordRules;const t={passUppercase:"0",passLowercase:"0",passNum:"0",passSpecial:"0"};l.forEach((e=>{t[e]="1"})),N.updateTenantPasswordPolicy({...e,...t}).then((e=>{a("reloadData"),_.value=null,v.value.resetFields(),r.value=!1,E({message:"密码规则变更成功",type:"success"})}))}}))},L=()=>{v.value.resetFields(),r.value=!r.value};return(e,a)=>{const t=F,N=n("el-input"),O=n("el-form-item"),U=n("el-form"),C=n("el-switch"),z=n("el-input-number"),T=n("el-checkbox-button"),D=n("el-checkbox-group");return o(),i(w,null,[s("div",ce,[s("div",me,[s("div",ve,[m(t,{label:"基础信息",btn:d.value?"保存":"修改",btn1:d.value?"取消":"",onOnClick:S,onOnClickCancel:j},null,8,["btn","btn1"]),m(U,{ref_key:"baseInfoFormRef",ref:f,model:I.value,rules:k.value,"label-width":"100px","hide-required-asterisk":"",class:"demo-ruleForm"},{default:h((()=>[s("div",null,[s("div",fe,[m(O,{label:"单位负责人",prop:"tenantPm"},{default:h((()=>[d.value?(o(),i("div",he,[m(N,{modelValue:I.value.tenantPm,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value.tenantPm=e),style:{width:"180px"},placeholder:"请输入",maxlength:"128"},null,8,["modelValue"])])):(o(),i("span",ge,p(l.tenantBaseInfo.tenantPm),1))])),_:1})]),s("div",be,[m(O,{label:"负责人手机号",prop:"tenantPmTel"},{default:h((()=>[d.value?(o(),i("div",we,[m(N,{modelValue:I.value.tenantPmTel,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value.tenantPmTel=e),style:{width:"180px"},placeholder:"请输入",maxlength:"11"},null,8,["modelValue"])])):(o(),i("span",ye,p(l.tenantBaseInfo.tenantPmTel),1))])),_:1})]),s("div",xe,[m(O,{label:"服务器域名",prop:"domainName"},{default:h((()=>[d.value?(o(),i("div",ke,[m(N,{modelValue:I.value.domainName,"onUpdate:modelValue":a[2]||(a[2]=e=>I.value.domainName=e),style:{width:"180px"},placeholder:"请输入",maxlength:"128"},null,8,["modelValue"])])):(o(),i("span",Ie,p(l.tenantBaseInfo.domainName),1))])),_:1})])])])),_:1},8,["model","rules"])]),s("div",Ve,[m(t,{label:"超级管理员",btn:"变更",onOnClick:a[3]||(a[3]=e=>g.value=!0)}),s("div",_e,[s("div",Pe,[Se,s("div",null,[s("span",Ne,p(l.tenantAdminInfo.adminName),1)])]),s("div",je,[Re,s("div",null,[s("span",Ae,p(l.tenantAdminInfo.accountNo),1)])])])])]),s("div",Le,[m(t,{label:"密码设置",btn:r.value?"保存":"修改",btn1:r.value?"取消":"",onOnClick:A,onOnClickCancel:L},null,8,["btn","btn1"]),m(U,{ref_key:"passwordRuleFormRef",ref:v,model:_.value,rules:P.value,"label-width":"160px","hide-required-asterisk":"",class:"demo-ruleForm"},{default:h((()=>[s("div",null,[s("div",Oe,[m(O,{label:"首次登录必须修改密码",prop:"passInitModfiy"},{default:h((()=>[r.value?(o(),b(C,{key:1,"active-value":"1","inactive-value":"0",modelValue:_.value.passInitModfiy,"onUpdate:modelValue":a[4]||(a[4]=e=>_.value.passInitModfiy=e)},null,8,["modelValue"])):(o(),i("span",Ue,p("1"===l.passwordPolicy.passInitModfiy?"是":"否"),1))])),_:1})]),s("div",Ce,[m(O,{label:"弱密码禁止保存",prop:"passLow"},{default:h((()=>[r.value?(o(),b(C,{key:1,"active-value":"1","inactive-value":"0",modelValue:_.value.passLow,"onUpdate:modelValue":a[5]||(a[5]=e=>_.value.passLow=e)},null,8,["modelValue"])):(o(),i("span",ze,p("1"===l.passwordPolicy.passLow?"是":"否"),1))])),_:1})]),s("div",Te,[m(O,{label:"密码变更提醒",prop:"passRemind"},{default:h((()=>[r.value?(o(),i("div",Fe,[m(C,{"active-value":"1","inactive-value":"0",modelValue:_.value.passRemind,"onUpdate:modelValue":a[6]||(a[6]=e=>_.value.passRemind=e)},null,8,["modelValue"]),"1"===_.value.passRemind?(o(),i("div",Be,[Me,m(z,{modelValue:_.value.passRemindNum,"onUpdate:modelValue":a[7]||(a[7]=e=>_.value.passRemindNum=e),min:0},null,8,["modelValue"]),$e])):c("",!0)])):(o(),i("div",De,[s("span",qe,p("1"===l.passwordPolicy.passRemind?"是":"否"),1),"1"===l.passwordPolicy.passRemind?(o(),i("span",Ee,"（提醒周期"+p(l.passwordPolicy.passRemindNum)+"天）",1)):c("",!0)]))])),_:1})]),s("div",Je,[m(O,{label:"密码至少包含",prop:"passwordRules"},{default:h((()=>[!r.value&&l.passwordPolicy.passwordRules&&l.passwordPolicy.passwordRules.length?(o(),i("div",Ge,[(o(!0),i(w,null,x(V.value,((e,a)=>(o(),i(w,null,[l.passwordPolicy.passwordRules.includes(e.value)?(o(),i("span",{class:"tab mr10",key:a},p(e.label),1)):c("",!0)],64)))),256))])):c("",!0),r.value?(o(),i("div",Ye,[m(D,{modelValue:_.value.passwordRules,"onUpdate:modelValue":a[8]||(a[8]=e=>_.value.passwordRules=e)},{default:h((()=>[(o(!0),i(w,null,x(V.value,((e,a)=>(o(),b(T,{key:a,label:e.value},{default:h((()=>[y(p(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])):c("",!0)])),_:1})]),s("div",He,[m(O,{label:"限制密码长度至少为",prop:"passLength"},{default:h((()=>[r.value?(o(),b(z,{key:1,modelValue:_.value.passLength,"onUpdate:modelValue":a[9]||(a[9]=e=>_.value.passLength=e),min:1,max:18},null,8,["modelValue"])):(o(),i("span",We,p(l.passwordPolicy.passLength),1)),Qe])),_:1})]),s("div",Ke,[m(O,{label:"初始密码",prop:"passInit"},{default:h((()=>[r.value?(o(),i("div",Ze,[m(N,{modelValue:_.value.passInit,"onUpdate:modelValue":a[10]||(a[10]=e=>_.value.passInit=e),type:"password",style:{width:"126px"},placeholder:"请输入","show-password":""},null,8,["modelValue"])])):(o(),i("span",Xe,p(l.passwordPolicy.passInit),1))])),_:1})])])])),_:1},8,["model","rules"])])]),g.value?(o(),b(u(ue),{key:0,modelValue:g.value,"onUpdate:modelValue":a[11]||(a[11]=e=>g.value=e),superAdminInfo:l.tenantAdminInfo,onUpdateSuperAdminInfo:R},null,8,["modelValue","superAdminInfo"])):c("",!0)],64)}}},aa=R(ea,[["__scopeId","data-v-aae515e5"]]),la=e=>(k("data-v-2361cdc9"),e=e(),V(),e),ta={class:"comp-info-bottom"},na={class:"switch"},oa=la((()=>s("span",null,"页面水印",-1))),ia={class:"upload"},sa={key:0,class:"uploadTip"},da=["src"],ra=la((()=>s("p",null,"上传首页LOGO",-1))),ua={class:"upload"},pa={key:0,class:"uploadTip"},ca=["src"],ma=la((()=>s("p",null,"上传登录页LOGO",-1))),va=R({props:{tenantShowInfo:{type:Object,required:!0}},emits:["reloadData"],setup(e,{emit:a}){const l=e,d=q(),r=t(null),u=t(null),p=t("1"),c=t(!1),v=t(localStorage.getItem("tenantId")),f=t({"zgj-token":A().token});_((()=>l.tenantShowInfo),(()=>{p.value=l.tenantShowInfo.pageWatermark}));const g=()=>{c.value=!0;const e=new FormData;return e.append("type",3),e.append("pageWatermark","1"===p.value?"0":"1"),new Promise(((l,t)=>{N.updatePageSetting(v.value,e).then((()=>{if(c.value=!1,p.value="1"===p.value?"0":"1",localStorage.setItem("watermark",p.value),C(),"1"===p.value){const e=JSON.parse(localStorage.getItem("accountInfo")).userInfo.userName+" "+z().format("YYYY-MM-DD HH:mm");T(e)}return a("reloadData"),l(!0)}),(()=>(c.value=!1,t(new Error("Error")))))}))},y=e=>{if(!e)return;const a=e.name.substring(e.name.lastIndexOf(".")+1),l=e.size/1024/1024<2;return"png"!==a&&"jpg"!==a&&"jpeg"!==a?(E.warning("请上传文件格式为png、jpg、jpeg的图片"),!1):l?void 0:(E.warning("上传图片大小不能超过2MB"),!1)},w=(e,a)=>{r.value=D+e.data,d.setHomeUrl(e.data)},x=(e,a)=>{u.value=D+e.data},I=(e,a,l)=>{O(e)};return(e,a)=>{const t=F,d=n("el-switch"),k=n("el-image"),V=n("el-upload");return o(),i("div",ta,[m(t,{label:"系统页面设置"}),s("div",na,[oa,m(d,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),loading:c.value,size:"large","active-value":"1","inactive-value":"0","before-change":g},null,8,["modelValue","loading"])]),s("div",ia,[m(V,{drag:"",action:`/api/tenant/tenantLogo/update/${v.value}`,headers:f.value,"show-file-list":!1,data:{type:1},"before-upload":y,"on-success":w,"on-error":I},{default:h((()=>[r.value||l.tenantShowInfo.homeLogoPath?(o(),b(k,{key:1,class:"logoImage",src:r.value||l.tenantShowInfo.homeLogoPath,fit:"scale-down"},null,8,["src"])):(o(),i("div",sa,[s("div",null,[s("img",{class:"uploadIcon",src:r.value},null,8,da),ra])]))])),_:1},8,["action","headers"])]),s("div",ua,[m(V,{drag:"",action:`/api/tenant/tenantLogo/update/${v.value}`,headers:f.value,data:{type:2},"show-file-list":!1,"before-upload":y,"on-success":x,"on-error":I},{default:h((()=>[u.value||l.tenantShowInfo.loginLogoPath?(o(),b(k,{key:1,class:"logoImage",src:u.value||l.tenantShowInfo.loginLogoPath,fit:"scale-down"},null,8,["src"])):(o(),i("div",pa,[s("img",{class:"uploadIcon",src:u.value},null,8,ca),ma]))])),_:1},8,["action","headers"])])])}}},[["__scopeId","data-v-2361cdc9"]]),fa={class:"comp-info","element-loading-text":"Loading..."},ga=v({name:"CompanyName"});a("default",R(Object.assign(ga,{setup(e){const a=t(!1),l=t({}),n=t({}),s=t({}),r=t({}),p=t({}),c=()=>{a.value=!0,N.getTenantInfo().then((e=>{l.value=e.data.tenant,n.value=e.data.tenantBaseInfo,s.value=e.data.tenantAdminInfo,e.data.tenantShowInfo.homeLogoPath=e.data.tenantShowInfo.homeLogoPath?D+e.data.tenantShowInfo.homeLogoPath:"",e.data.tenantShowInfo.loginLogoPath=e.data.tenantShowInfo.loginLogoPath?D+e.data.tenantShowInfo.loginLogoPath:"",p.value=e.data.tenantShowInfo,e.data.passwordPolicy.passwordRules=[],"1"===e.data.passwordPolicy.passUppercase&&e.data.passwordPolicy.passwordRules.push("passUppercase"),"1"===e.data.passwordPolicy.passLowercase&&e.data.passwordPolicy.passwordRules.push("passLowercase"),"1"===e.data.passwordPolicy.passNum&&e.data.passwordPolicy.passwordRules.push("passNum"),"1"===e.data.passwordPolicy.passSpecial&&e.data.passwordPolicy.passwordRules.push("passSpecial"),r.value=e.data.passwordPolicy,a.value=!1}),(()=>{a.value=!1}))};return P((()=>{c()})),(e,t)=>{const v=S("loading");return o(),b(B,{style:{padding:"16px"},free:!0},{default:h((()=>[d((o(),i("div",fa,[m(u(X),{tenant:l.value,onReloadData:c},null,8,["tenant"]),m(u(aa),{tenantBaseInfo:n.value,tenantAdminInfo:s.value,passwordPolicy:r.value,onReloadData:c},null,8,["tenantBaseInfo","tenantAdminInfo","passwordPolicy"]),m(u(va),{tenantShowInfo:p.value,onReloadData:c},null,8,["tenantShowInfo"])])),[[v,a.value]])])),_:1})}}}),[["__scopeId","data-v-b43e8084"]]))}}}))}();
