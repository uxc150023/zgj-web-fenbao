System.register(["./chunk-vform-legacy-c59809de.js","./index-legacy-d26760d0.js","./chunk-element-plus-legacy-93ba4a6a.js","./chunk-vue-legacy-ac482c0f.js","./chunk-ant-design-vue-legacy-1182637d.js","./chunk-@ant-design-icons-svg-legacy-99a059a7.js","./chunk-@ant-design-icons-vue-legacy-38d6bf6a.js"],(function(e,t){"use strict";var a,o,l,r,i,n,s,d,u,m,c,p,g,f,y,v,F,h=document.createElement("style");return h.textContent=".drag-dialog .el-dialog__header{display:block!important}.drag-dialog .el-dialog__body{padding:25px!important}\n",document.head.appendChild(h),{setters:[e=>{a=e.J,o=e.V,l=e.K,r=e.M,i=e.N,n=e.O,s=e.P},e=>{d=e.a},e=>{u=e.E},e=>{m=e.aA,c=e.k,p=e.al,g=e.as,f=e.o,y=e.m,v=e.a$,F=e.ab},null,null,null],execute:function(){const t={languageMenu:!1,externalLink:!1,formTemplates:!0,widgetNameReadonly:!1,eventCollapse:!0,clearDesignerButton:!1,previewFormButton:!0,importJsonButton:!0,exportJsonButton:!0,exportCodeButton:!1,generateSFCButton:!0,toolbarMaxWidth:420,toolbarMinWidth:300,presetCssCode:"",resetFormJson:!1,productName:"",productTitle:"",logoHeader:!1},h={name:"JyVform"};e("default",Object.assign(h,{props:{mode:{type:String,default:""},designerConfig:{type:Object,default:()=>t},formJson:{type:Object,default:()=>{}},formData:{type:Object,default:()=>{}},optionData:{type:Object,default:()=>{}},hideModuleList:{type:Array,default:()=>[]},prefabricationFieldList:{type:Array,default:()=>[]},userType:{type:String,default:""}},emits:["formChange","appendButtonClick","buttonClick","on-loaded"],setup(e,{expose:h,emit:b}){const L=e,D=a(),k=m(null),C=m([]),J=m([]),j=m(0),T=c((()=>D.fileTypeList||[])),B=e=>{b("buttonClick",e)},W=e=>{b("appendButtonClick",e)},x=(e,t,a,o,l,r)=>{b("formChange",{fieldName:e,newValue:t,oldValue:a,formModel:o,subFormName:l,subFormRowIndex:r})},w=async e=>{try{const t=await d.formColumnBasic({applyTypeId:e}),a=[...r,...i,...n,...s].map((e=>e.type)).filter((e=>![...t.data.columSys,...t.data.columBiz].includes(e)));C.value=a,j.value++}catch(t){u.error(t)}},M=async e=>{try{const t=await d.getFormTemplate({applyTypeId:e});J.value=t.data.map((e=>JSON.parse(e.formTemplateInfo)));const a=k.value.getFieldWidgets();F((()=>{L.mode||a.length||k.value.setFormJson(JSON.parse(JSON.stringify(J.value[0].jsonUrl)))}))}catch(t){u.error(t)}};return p((()=>{b("on-loaded")})),h({getFormJson:()=>k.value.getFormJson()||"",clearDesigner:()=>{k.value.clearDesigner()},previewForm:()=>{k.value.previewForm()},getFieldWidgets:()=>k.value.getFieldWidgets(),exportJson:()=>{k.value.exportJson()},importJson:e=>{k.value.importJson(e)},getWidgetRef:e=>k.value.getWidgetRef(e),buildFormDataSchema:()=>k.value.buildFormDataSchema(),changeLanguage:()=>{k.value.changeLanguage()},setFormJson:e=>{k.value.setFormJson(e)},validateForm:async()=>{let e=!1;return await k.value.validateForm((t=>{e=t})),e},getFormData:async(e=!0)=>{try{return k.value.getFormData(e)}catch(t){return Promise.reject(t)}},setFormData:e=>{k.value.setFormData(e)},setFieldValue:(e,t)=>{k.value.setFieldValue(e,t)},resetForm:()=>{k.value.resetForm()},setReadMode:()=>{k.value.setReadMode()},showDialog:()=>{k.value.showDialog()},setFormColumnBasic:w,setFormTemplate:M,initDesigner:e=>{w(e),M(e)},disableForm:()=>{k.value.disableForm()},getFieldValue:async e=>{try{return k.value.getFieldValue(e)}catch(t){return Promise.reject(t)}},reloadOptionData:async e=>{try{return k.value.reloadOptionData(e)}catch(t){return Promise.reject(t)}},hideWidgets:(e=null)=>{k.value.hideWidgets(e)},disableWidgets:(e=null)=>{k.value.disableWidgets(e)}}),(a,r)=>(g(),f("div",null,["render"===L.mode?(g(),y(v(o),{key:0,"form-json":L.formJson,"form-data":L.formData,optionData:L.optionData,ref_key:"vFormRef",ref:k,onFormChange:x,onAppendButtonClick:W,onButtonClick:B,fileTypeList:v(T),prefabricationFieldList:L.prefabricationFieldList},null,8,["form-json","form-data","optionData","fileTypeList","prefabricationFieldList"])):(g(),y(v(l),{ref_key:"vFormRef",ref:k,bannedWidgets:C.value,"designer-config":v(t),hideModuleList:e.hideModuleList,prefabricationFieldList:L.prefabricationFieldList,templateList:J.value,fileTypeList:v(T),userType:e.userType,key:j.value},null,8,["bannedWidgets","designer-config","hideModuleList","prefabricationFieldList","templateList","fileTypeList","userType"]))]))}}))}}}));
