import e from"./index-86ff7075.js";import{g as a,a6 as t,ac as o,n as l}from"./chunk-vform-2b3347cb.js";import{J as s}from"./JyTable-628cc67b.js";import{a as n}from"./actionMoreDialog-98d12403.js";import{aA as i,ay as r,aF as d,as as m,o as u,x as p,bj as c,p as h,w as g,aT as w,a$ as y,m as T,ab as v,aw as D,at as f}from"./chunk-vue-0eb5cee7.js";import"./chunk-element-plus-b8773542.js";import"./chunk-ant-design-vue-bd7f8294.js";import"./chunk-@ant-design-icons-svg-8f5189a2.js";import"./chunk-@ant-design-icons-vue-ff9a333c.js";import"./sangedian-6ea00dcf.js";import"./Layout-feb68f7d.js";import"./searchForm-2119928b.js";import"./ketanchude-a94e84bc.js";import"./KDocumentTypeDialog-1313c7d8.js";import"./pagination-15aedd3b.js";import"./batch-9eab7073.js";import"./index-c5d7142e.js";const b=[{prop:"sealTypeNo",label:"印章类型编码","min-width":180,show:!0},{prop:"sealTypeName",label:"印章类型名称","min-width":150,show:!0},{prop:"readme",label:"描述","min-width":150,show:!0},{prop:"intelligentCount",label:"智能印章",align:"center",customDisplayType:"format",unit:"枚",sortable:"custom","min-width":150,show:!0},{prop:"ordinaryCount",label:"普通印章",align:"center",customDisplayType:"format",unit:"枚",sortable:"custom","min-width":150,show:!0},{prop:"createUserName",label:"创建人","min-width":150,show:!0},{prop:"createDatetime",label:"创建时间",sortable:"custom","min-width":180,show:!0},{prop:"caozuo",label:"操作",fixed:"right","min-width":150,show:!0,align:"center",rankDisplayData:[{name:"t-zgj-Edit"},{name:"t-zgj-Delete"}]}],j=e=>(D("data-v-de112496"),e=e(),f(),e),C={class:"PrintControlManagement-TypeOfSeal"},x={class:"title"},k=j((()=>h("div",null,"印章类型",-1))),B={class:"title-more"},N={class:"title-more-add"},M=j((()=>h("div",{class:"title-more-down"},null,-1))),J=a({setup(a){const D=i({sealTypeNo:"",sealTypeName:"",readme:""}),f=i({sealTypeName:[{required:!0,message:"请输入印章类型名称",trigger:"change"}]}),j=i("t-zgj-add"),J=i(!1),E=i(null),V=i(null),_=i(null),z=i(!1),U=r({componentsTabs:{data:[{label:"待签章",name:"1"},{label:"已签章",name:"2"},{label:"不可用",name:"3"}]},componentsSearchForm:{data:[{id:"searchKey",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"请输入印章类型名称或编码"}},{id:"createDate",label:"创建时间",type:"picker",pickerType:"date",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD","disabled-date":e=>e.getTime()>Date.now(),"default-value":[new Date((new Date).setMonth((new Date).getMonth()-1)),new Date]},style:{}}],butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:b},componentsBatch:{selectionData:[],data:[{id:"deleteMore",name:"批量删除"}]},JyElMessageBox:{show:!1,header:{data:""},content:{data:""}},showToastDialog:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""}},showToastDialogContent:{show:!1,header:"",content:"",selectionData:[]}});function F(e,a){j.value=e,J.value=!0,v((()=>{if(E.value.resetFields(),"t-zgj-add"===e)V.value=null,D.value={sealTypeNo:t(),sealTypeName:"",readme:""};else if(a){const e=JSON.parse(JSON.stringify(a));D.value={sealTypeNo:e.sealTypeNo,sealTypeName:e.sealTypeName,readme:e.readme}}}))}function A(e,a,t,o){"t-zgj-Edit"===t.name&&(V.value=a.sealTypeId,F(t.name,a)),"t-zgj-Delete"===t.name&&(V.value=a.sealTypeId,U.JyElMessageBox.header.data="提示？",U.JyElMessageBox.content.data="请问确定要删除吗？",U.JyElMessageBox.show=!0)}const S=()=>{o.delete({ids:V.value||U.componentsBatch.selectionData.map((e=>e.sealTypeId)).join(",")}).then((e=>{U.JyElMessageBox.show=!1,U.showToastDialog.show=!1,Y()}),(e=>{U.showToastDialogContent.show=!0,U.showToastDialogContent.header="删除失败",U.showToastDialogContent.content=e.msg,U.showToastDialogContent.selectionData=e.data})).finally((()=>{V.value=null,U.showToastDialog.show=!1,U.JyElMessageBox.show=!1}))};function I(e,a){U.componentsBatch.selectionData=a,"deleteMore"===e.id&&(U.showToastDialog.header.data="批量删除？",U.showToastDialog.content.data="已选中以下表单，请问确定要批量删除吗？",U.showToastDialog.show=!0)}const L=()=>{E.value.validate((e=>{e&&(z.value=!0,V.value?o.edit({sealTypeId:V.value,...D.value}).then((()=>{V.value=null,J.value=!1,Y()})).finally((()=>{z.value=!1})):o.add(D.value).then((e=>{V.value=null,J.value=!1,Y()})).finally((()=>{z.value=!1})))}))},Y=()=>{_.value.reloadData()};return(a,t)=>{const o=d("el-button"),i=d("el-input"),r=d("el-form-item"),v=d("el-form"),b=l,V=d("JyElMessageBox"),Y=e;return m(),u("div",C,[p(s,{url:"/sealType/page",ref_key:"jyTable",ref:_,hasTree:!1,componentsSearchForm:y(U).componentsSearchForm,componentsTableHeader:y(U).componentsTable.header,componentsBatch:y(U).componentsBatch,tableClick:"organName",onCellClick:a.cellClick,onCustomClick:A,onClickBatchButton:I},{title:c((()=>[h("div",x,[k,h("div",B,[h("div",N,[p(o,{type:"primary",onClick:t[0]||(t[0]=e=>F("t-zgj-add"))},{default:c((()=>[g(" + "+w(a.$t("t-zgj-add")),1)])),_:1})]),M])])])),_:1},8,["componentsSearchForm","componentsTableHeader","componentsBatch","onCellClick"]),(m(),T(b,{"onUpdate:show":t[4]||(t[4]=e=>J.value=e),show:J.value,confirmLoading:z.value,title:j.value,centerBtn:!0,confirmText:a.$t("t-zgj-operation.submit"),concelText:a.$t("t-zgj-operation.cancel"),width:800,height:260,onConfirm:L,key:j.value},{default:c((()=>[p(v,{model:D.value,rules:f.value,ref_key:"vFormLibraryRef",ref:E,"label-width":"120px"},{default:c((()=>[p(r,{label:"印章类型编码",prop:"sealTypeNo"},{default:c((()=>[p(i,{modelValue:D.value.sealTypeNo,"onUpdate:modelValue":t[1]||(t[1]=e=>D.value.sealTypeNo=e),disabled:""},null,8,["modelValue"])])),_:1}),p(r,{label:"印章类型名称",prop:"sealTypeName"},{default:c((()=>[p(i,{modelValue:D.value.sealTypeName,"onUpdate:modelValue":t[2]||(t[2]=e=>D.value.sealTypeName=e),maxlength:"128",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(r,{label:"描述",prop:"readme"},{default:c((()=>[p(i,{modelValue:D.value.readme,"onUpdate:modelValue":t[3]||(t[3]=e=>D.value.readme=e),type:"textarea",maxlength:"512",placeholder:"请填写"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["show","confirmLoading","title","confirmText","concelText"])),p(V,{modelValue:y(U).JyElMessageBox.show,"onUpdate:modelValue":t[5]||(t[5]=e=>y(U).JyElMessageBox.show=e),show:y(U).JyElMessageBox.show,defaultAttribute:{},onConfirmClick:S},{header:c((()=>[g(w(y(U).JyElMessageBox.header.data),1)])),content:c((()=>[g(w(y(U).JyElMessageBox.content.data),1)])),_:1},8,["modelValue","show"]),p(y(n),{"onUpdate:modelValue":t[6]||(t[6]=e=>y(U).showToastDialog.show=!1),show:y(U).showToastDialog.show,selectionData:y(U).componentsBatch.selectionData,showToastDialogContent:y(U).showToastDialog,label:"sealTypeName",onSureAction:S},null,8,["show","selectionData","showToastDialogContent"]),p(Y,{show:y(U).showToastDialogContent.show,showToastDialogContent:y(U).showToastDialogContent,"onUpdate:modelValue":t[7]||(t[7]=e=>y(U).showToastDialogContent.show=!1)},null,8,["show","showToastDialogContent"])])}}},[["__scopeId","data-v-de112496"]]);export{J as default};
