var e=Object.defineProperty,a=(a,l,s)=>(((a,l,s)=>{l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s})(a,"symbol"!=typeof l?l+"":l,s),s);import{aA as l,aF as s,as as n,o as t,p as o,bl as u,bb as d,a$ as i,aT as r,n as p,x as c,A as v,ay as m,k as f,bj as g,m as h,w as y,F as w,aD as b,a4 as I,aw as k,at as V,be as P,ag as _,aG as S}from"./chunk-vue-0eb5cee7.js";import{a as N,_ as R}from"./Verify-0f50c174.js";import{g as A,p as L,t as O,E as x,G as U,A as j,y as C,z as T,F as D}from"./chunk-vform-6b80d696.js";import{u as q}from"./logo-272c3e12.js";import{E}from"./chunk-element-plus-b8773542.js";import B from"./index-f89250d7.js";import{c as F}from"./Layout-d1d9ddbf.js";import"./chunk-ant-design-vue-bd7f8294.js";import"./chunk-@ant-design-icons-svg-8f5189a2.js";import"./chunk-@ant-design-icons-vue-ff9a333c.js";const z={class:"comp-info-top"},M={class:"bg"},$={class:"left"},J={src:"/zgj-web-fenbao/assets/verification-error-01225f0d.svg",style:{"object-fit":"fill",width:"52px",height:"28px"}},G=["src"],Y={class:"right"},H={class:"name"},W={key:0,class:"label"},Q=["src"],K={key:1,class:"input"},X=A({props:{tenant:{type:Object,required:!0}},emits:["reloadData"],setup(e,{emit:a}){const v=e,m=q(),f=L(),g=l(null),h=l(!1),y=()=>{N.editTenantTitle({tenantTitle:g.value,tenantId:localStorage.getItem("tenantId")}).then((e=>{E({message:"标题变更成功",type:"success"}),h.value=!h.value,a("reloadData"),f.setOneDeaprtTitle(g.value)}))},w=()=>{h.value=!h.value},b=()=>{g.value=v.tenant.tenantTitle,h.value=!0};return(e,a)=>{const l=s("el-input");return n(),t("div",z,[o("div",M,[o("div",$,[u(o("img",J,null,512),[[d,!i(m).homeUrl]]),u(o("img",{src:i(m).homeUrl,style:{"object-fit":"fill",width:"52px",height:"28px"}},null,8,G),[[d,i(m).homeUrl]])]),o("div",Y,[o("div",H,r(v.tenant.tenantName),1),h.value?p("",!0):(n(),t("div",W,[o("span",null,r(v.tenant.tenantTitle),1),o("img",{src:i("/zgj-web-fenbao/assets/input-2c1a70ec.svg"),onClick:b},null,8,Q)])),h.value?(n(),t("div",K,[c(l,{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),placeholder:"请输入新的头部系统显示名称",maxlength:"256"},null,8,["modelValue"]),o("span",{class:"save",onClick:y},"保存"),o("span",{class:"cancel",onClick:w},"取消")])):p("",!0)])])])}}},[["__scopeId","data-v-a0751600"]]),Z={class:"authentication-form"},ee={key:0},ae=y("手机号验证"),le=y("邮箱验证"),se={class:"vcode"},ne={key:1},te=y(" 下一步 "),oe=y(" 提交 "),ue=y(" 取消 "),de=v({name:"ChangeSuperAdmin"}),ie=A(Object.assign(de,{props:{visible:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},superAdminInfo:{type:Object,default:()=>({})}},emits:["update:modelValue","updateSuperAdminInfo"],setup(e,{expose:u,emit:d}){const v=e;class k{constructor(){a(this,"name",""),a(this,"data",""),a(this,"vcode",""),a(this,"verification",1),a(this,"adminId",null),a(this,"adminName","")}}const V=l(new k),P=l(null),_=l(1),S=l([]),A=l(null),L=l(-1),j=l(!1),C=l(!1),T=m({vcode:[{required:!0,message:"验证码是6位数字",trigger:"change",pattern:/^\d{6}$/}],adminId:[{required:!0,message:"超管不能为空",trigger:"change"}]}),D=f({get:()=>v.modelValue,set(e){d("update:modelValue",e)}}),q=async()=>{try{await P.value.validate(),await N.verifyCode({type:V.value.verification,contact:1===V.value.verification?v.superAdminInfo.adminTel:v.superAdminInfo.adminEmail,verifyCode:V.value.vcode}),_.value=2}catch(e){x(e)}},B=()=>{U.userPage({flag:1,current:1,size:1e4}).then((e=>{S.value=e.data.records}))},F=e=>{V.value.adminName=S.value.find((a=>a.userId===e)).accountNo},z=async()=>{await P.value.validate(((e,a)=>{e&&N.updateAdmin({adminId:V.value.adminId}).then((e=>{E({message:"超级管理员变更成功",type:"success"}),d("updateSuperAdminInfo"),_.value=1,V.value=l(new k)}))}))},M=()=>{D.value=!1,setTimeout((()=>{_.value=1,V.value=new k}),300)},$=async()=>{if(j.value){if(!A.value)try{await N.getVerificationCode({type:V.value.verification,contact:1===V.value.verification?v.superAdminInfo.adminTel:v.superAdminInfo.adminEmail}),L.value=60,A.value=setInterval((()=>{L.value<0?(clearInterval(A.value),A.value=null):L.value--}),1e3)}catch(e){}}else C.value=!0},J=()=>{clearInterval(A.value),A.value=null,L.value=-1},G=e=>{j.value=!0,$()};return u({success:G}),(a,l)=>{const u=s("el-radio"),d=s("el-radio-group"),v=s("el-form-item"),m=s("el-input"),f=s("el-button"),k=s("el-option"),N=s("el-select"),A=s("el-form");return n(),t("div",null,[c(i(O),{title:1===_.value?"身份验证":"变更超级管理员",modelValue:i(D),"onUpdate:modelValue":l[5]||(l[5]=e=>I(D)?D.value=e:null),onOnClosed:J,onOnOpened:B},{footer:g((()=>[1===_.value?(n(),h(f,{key:0,type:"primary",onClick:q},{default:g((()=>[te])),_:1})):p("",!0),2===_.value?(n(),h(f,{key:1,type:"primary",onClick:z},{default:g((()=>[oe])),_:1})):p("",!0),c(f,{onClick:M},{default:g((()=>[ue])),_:1})])),default:g((()=>[o("div",Z,[c(A,{model:V.value,"label-width":"112px",rules:i(T),ref_key:"formRef",ref:P},{default:g((()=>[1===_.value?(n(),t("div",ee,[c(v,{label:"验证方式"},{default:g((()=>[c(d,{modelValue:V.value.verification,"onUpdate:modelValue":l[0]||(l[0]=e=>V.value.verification=e)},{default:g((()=>[c(u,{label:1},{default:g((()=>[ae])),_:1}),c(u,{label:2},{default:g((()=>[le])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(v,{label:"超级管理员"},{default:g((()=>[o("span",null,r(e.superAdminInfo.adminName),1)])),_:1}),c(v,{label:"超级管理员账号"},{default:g((()=>[o("span",null,r(e.superAdminInfo.accountNo),1)])),_:1}),c(v,{label:"超级管理员手机号"},{default:g((()=>[o("span",null,r(e.superAdminInfo.adminTel),1)])),_:1}),c(v,{label:"超级管理员邮箱号"},{default:g((()=>[o("span",null,r(e.superAdminInfo.adminEmail),1)])),_:1}),c(v,{label:"验证码",prop:"vcode"},{default:g((()=>[o("div",se,[c(m,{modelValue:V.value.vcode,"onUpdate:modelValue":l[1]||(l[1]=e=>V.value.vcode=e),maxlength:"6",oninput:"value=value.replace(/^\\.+|[^\\d.]/g,'')"},null,8,["modelValue"]),c(f,{type:"primary",disabled:L.value>=0,onClick:$},{default:g((()=>[y(r(L.value<0?"获取验证码":L.value+"秒后重发"),1)])),_:1},8,["disabled"])])])),_:1})])):p("",!0),2===_.value?(n(),t("div",ne,[c(v,{label:"超级管理员"},{default:g((()=>[o("span",null,r(e.superAdminInfo.adminName),1)])),_:1}),c(v,{label:"超级管理员账号"},{default:g((()=>[o("span",null,r(e.superAdminInfo.accountNo),1)])),_:1}),c(v,{label:"新的超管姓名",prop:"adminId"},{default:g((()=>[c(N,{style:{width:"264px"},modelValue:V.value.adminId,"onUpdate:modelValue":l[2]||(l[2]=e=>V.value.adminId=e),filterable:"",onChange:F},{default:g((()=>[(n(!0),t(w,null,b(S.value,(e=>(n(),h(k,{key:e.userId,label:e.userName,value:e.userId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(v,{label:"新的超管账号"},{default:g((()=>[c(m,{modelValue:V.value.adminName,"onUpdate:modelValue":l[3]||(l[3]=e=>V.value.adminName=e),disabled:"",style:{width:"264px"}},null,8,["modelValue"])])),_:1})])):p("",!0)])),_:1},8,["model","rules"])]),C.value?(n(),h(i(R),{key:0,captchaType:"blockPuzzle",modelValue:C.value,"onUpdate:modelValue":l[4]||(l[4]=e=>C.value=e),onSuccess:G,getUrl:"/tenant/tenantAdminInfo/getImageVerifyCode/blockPuzzle",checkUrl:"/tenant/tenantAdminInfo/verifyCode"},null,8,["modelValue"])):p("",!0)])),_:1},8,["title","modelValue"])])}}}),[["__scopeId","data-v-94c1c1d4"]]),re=e=>(k("data-v-aae515e5"),e=e(),V(),e),pe={class:"comp-info-center"},ce={class:"left"},ve={class:"base"},me={class:"rows"},fe={key:0,class:"content"},ge={key:1},he={class:"rows"},ye={key:0,class:"content"},we={key:1},be={class:"rows"},Ie={key:0,class:"content"},ke={key:1},Ve={class:"base"},Pe={class:"form-content"},_e={class:"rows"},Se=re((()=>o("span",{class:"label"},"超级管理员",-1))),Ne={class:"content"},Re={class:"rows"},Ae=re((()=>o("span",{class:"label"},"超级管理员账号",-1))),Le={class:"content"},Oe={class:"right"},xe={class:"rows"},Ue={key:0,class:"content color-3ED096"},je={class:"rows"},Ce={key:0,class:"content color-3ED096"},Te={class:"rows"},De={key:0},qe={class:"content color-3ED096"},Ee={key:0,class:"color-black-045"},Be={key:1,style:{display:"flex","align-items":"center"}},Fe={key:0},ze=re((()=>o("span",null,"  提醒周期  ",-1))),Me=re((()=>o("span",null,"  天",-1))),$e={class:"rows"},Je={key:0},Ge={key:1},Ye={class:"rows"},He={key:0,class:"content tab"},We=re((()=>o("span",{class:"color-black-045"}," 位",-1))),Qe={class:"rows"},Ke={key:0,class:"content tab"},Xe={key:1},Ze=A({props:{tenantBaseInfo:{type:Object,required:!0},tenantAdminInfo:{type:Object,required:!0},passwordPolicy:{type:Object,required:!0}},emits:["reloadData"],setup(e,{emit:a}){const u=e,d=l(!1),v=l(!1),m=l(null),f=l(null),I=l(!1),k=l(null),V=l({tenantPm:[{required:!0,message:"请输入单位负责人",trigger:"change"}],tenantPmTel:[{required:!0,validator:(e,a,l)=>{a?/^((1[3-9][0-9]))\d{8}$|^(5|6|8|9)\d{7}$|^\d{3,4}-\d{7,8}$|^(852)?(2[1-9]|3[145679])\d{6}$/.test(a)?l():l(new Error("负责人手机号格式不正确")):l(new Error("请输入负责人手机号"))},trigger:"change"}]}),P=l([{label:"大写字母",value:"passUppercase"},{label:"小写字母",value:"passLowercase"},{label:"数字",value:"passNum"},{label:"特殊字符",value:"passSpecial"}]),_=l(null),S=l({passInitModfiy:[{required:!0,message:"请选择",trigger:"change"}],passLow:[{required:!0,message:"请选择",trigger:"change"}],passRemind:[{required:!0,message:"请选择",trigger:"change"}],passRemindNum:[{required:!0,message:"请输入密码变更提醒周期天数",trigger:"change"},{min:1,max:31,message:"提醒周期天数必须在1 ~ 31天之间",trigger:"change"}],passwordRules:[{required:!0,message:"请选择密码至少包含的内容",trigger:"change"}],passLength:[{required:!0,message:"请输入密码最小长度",trigger:"change"}],passInit:[{required:!0,message:"请输入初始密码",trigger:"change"}]}),R=e=>{"修改"===e?(k.value=JSON.parse(JSON.stringify(u.tenantBaseInfo)),d.value=!0):f.value.validate((e=>{e&&N.updateTenantBaseInfo(k.value).then((()=>{a("reloadData"),f.value.resetFields(),d.value=!1,E({message:"基础信息变更成功",type:"success"})}))}))},A=()=>{f.value.resetFields(),d.value=!1},L=()=>{I.value=!1,a("reloadData")},O=e=>{"修改"===e?(_.value=JSON.parse(JSON.stringify(u.passwordPolicy)),v.value=!v.value):m.value.validate((e=>{if(e){const e=JSON.parse(JSON.stringify(_.value)),l=e.passwordRules;delete e.passwordRules;const s={passUppercase:"0",passLowercase:"0",passNum:"0",passSpecial:"0"};l.forEach((e=>{s[e]="1"})),N.updateTenantPasswordPolicy({...e,...s}).then((e=>{a("reloadData"),_.value=null,m.value.resetFields(),v.value=!1,E({message:"密码规则变更成功",type:"success"})}))}}))},x=()=>{m.value.resetFields(),v.value=!v.value};return(e,a)=>{const l=B,N=s("el-input"),U=s("el-form-item"),j=s("el-form"),C=s("el-switch"),T=s("el-input-number"),D=s("el-checkbox-button"),q=s("el-checkbox-group");return n(),t(w,null,[o("div",pe,[o("div",ce,[o("div",ve,[c(l,{label:"基础信息",btn:d.value?"保存":"修改",btn1:d.value?"取消":"",onOnClick:R,onOnClickCancel:A},null,8,["btn","btn1"]),c(j,{ref_key:"baseInfoFormRef",ref:f,model:k.value,rules:V.value,"label-width":"100px","hide-required-asterisk":"",class:"demo-ruleForm"},{default:g((()=>[o("div",null,[o("div",me,[c(U,{label:"单位负责人",prop:"tenantPm"},{default:g((()=>[d.value?(n(),t("div",ge,[c(N,{modelValue:k.value.tenantPm,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value.tenantPm=e),style:{width:"180px"},placeholder:"请输入",maxlength:"128"},null,8,["modelValue"])])):(n(),t("span",fe,r(u.tenantBaseInfo.tenantPm),1))])),_:1})]),o("div",he,[c(U,{label:"负责人手机号",prop:"tenantPmTel"},{default:g((()=>[d.value?(n(),t("div",we,[c(N,{modelValue:k.value.tenantPmTel,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value.tenantPmTel=e),style:{width:"180px"},placeholder:"请输入",maxlength:"11"},null,8,["modelValue"])])):(n(),t("span",ye,r(u.tenantBaseInfo.tenantPmTel),1))])),_:1})]),o("div",be,[c(U,{label:"服务器域名",prop:"domainName"},{default:g((()=>[d.value?(n(),t("div",ke,[c(N,{modelValue:k.value.domainName,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value.domainName=e),style:{width:"180px"},placeholder:"请输入",maxlength:"128"},null,8,["modelValue"])])):(n(),t("span",Ie,r(u.tenantBaseInfo.domainName),1))])),_:1})])])])),_:1},8,["model","rules"])]),o("div",Ve,[c(l,{label:"超级管理员",btn:"变更",onOnClick:a[3]||(a[3]=e=>I.value=!0)}),o("div",Pe,[o("div",_e,[Se,o("div",null,[o("span",Ne,r(u.tenantAdminInfo.adminName),1)])]),o("div",Re,[Ae,o("div",null,[o("span",Le,r(u.tenantAdminInfo.accountNo),1)])])])])]),o("div",Oe,[c(l,{label:"密码设置",btn:v.value?"保存":"修改",btn1:v.value?"取消":"",onOnClick:O,onOnClickCancel:x},null,8,["btn","btn1"]),c(j,{ref_key:"passwordRuleFormRef",ref:m,model:_.value,rules:S.value,"label-width":"160px","hide-required-asterisk":"",class:"demo-ruleForm"},{default:g((()=>[o("div",null,[o("div",xe,[c(U,{label:"首次登录必须修改密码",prop:"passInitModfiy"},{default:g((()=>[v.value?(n(),h(C,{key:1,"active-value":"1","inactive-value":"0",modelValue:_.value.passInitModfiy,"onUpdate:modelValue":a[4]||(a[4]=e=>_.value.passInitModfiy=e)},null,8,["modelValue"])):(n(),t("span",Ue,r("1"===u.passwordPolicy.passInitModfiy?"是":"否"),1))])),_:1})]),o("div",je,[c(U,{label:"弱密码禁止保存",prop:"passLow"},{default:g((()=>[v.value?(n(),h(C,{key:1,"active-value":"1","inactive-value":"0",modelValue:_.value.passLow,"onUpdate:modelValue":a[5]||(a[5]=e=>_.value.passLow=e)},null,8,["modelValue"])):(n(),t("span",Ce,r("1"===u.passwordPolicy.passLow?"是":"否"),1))])),_:1})]),o("div",Te,[c(U,{label:"密码变更提醒",prop:"passRemind"},{default:g((()=>[v.value?(n(),t("div",Be,[c(C,{"active-value":"1","inactive-value":"0",modelValue:_.value.passRemind,"onUpdate:modelValue":a[6]||(a[6]=e=>_.value.passRemind=e)},null,8,["modelValue"]),"1"===_.value.passRemind?(n(),t("div",Fe,[ze,c(T,{modelValue:_.value.passRemindNum,"onUpdate:modelValue":a[7]||(a[7]=e=>_.value.passRemindNum=e),min:0},null,8,["modelValue"]),Me])):p("",!0)])):(n(),t("div",De,[o("span",qe,r("1"===u.passwordPolicy.passRemind?"是":"否"),1),"1"===u.passwordPolicy.passRemind?(n(),t("span",Ee,"（提醒周期"+r(u.passwordPolicy.passRemindNum)+"天）",1)):p("",!0)]))])),_:1})]),o("div",$e,[c(U,{label:"密码至少包含",prop:"passwordRules"},{default:g((()=>[!v.value&&u.passwordPolicy.passwordRules&&u.passwordPolicy.passwordRules.length?(n(),t("div",Je,[(n(!0),t(w,null,b(P.value,((e,a)=>(n(),t(w,null,[u.passwordPolicy.passwordRules.includes(e.value)?(n(),t("span",{class:"tab mr10",key:a},r(e.label),1)):p("",!0)],64)))),256))])):p("",!0),v.value?(n(),t("div",Ge,[c(q,{modelValue:_.value.passwordRules,"onUpdate:modelValue":a[8]||(a[8]=e=>_.value.passwordRules=e)},{default:g((()=>[(n(!0),t(w,null,b(P.value,((e,a)=>(n(),h(D,{key:a,label:e.value},{default:g((()=>[y(r(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])):p("",!0)])),_:1})]),o("div",Ye,[c(U,{label:"限制密码长度至少为",prop:"passLength"},{default:g((()=>[v.value?(n(),h(T,{key:1,modelValue:_.value.passLength,"onUpdate:modelValue":a[9]||(a[9]=e=>_.value.passLength=e),min:1,max:18},null,8,["modelValue"])):(n(),t("span",He,r(u.passwordPolicy.passLength),1)),We])),_:1})]),o("div",Qe,[c(U,{label:"初始密码",prop:"passInit"},{default:g((()=>[v.value?(n(),t("div",Xe,[c(N,{modelValue:_.value.passInit,"onUpdate:modelValue":a[10]||(a[10]=e=>_.value.passInit=e),type:"password",style:{width:"126px"},placeholder:"请输入","show-password":""},null,8,["modelValue"])])):(n(),t("span",Ke,r(u.passwordPolicy.passInit),1))])),_:1})])])])),_:1},8,["model","rules"])])]),I.value?(n(),h(i(ie),{key:0,modelValue:I.value,"onUpdate:modelValue":a[11]||(a[11]=e=>I.value=e),superAdminInfo:u.tenantAdminInfo,onUpdateSuperAdminInfo:L},null,8,["modelValue","superAdminInfo"])):p("",!0)],64)}}},[["__scopeId","data-v-aae515e5"]]),ea=e=>(k("data-v-2361cdc9"),e=e(),V(),e),aa={class:"comp-info-bottom"},la={class:"switch"},sa=ea((()=>o("span",null,"页面水印",-1))),na={class:"upload"},ta={key:0,class:"uploadTip"},oa=["src"],ua=ea((()=>o("p",null,"上传首页LOGO",-1))),da={class:"upload"},ia={key:0,class:"uploadTip"},ra=["src"],pa=ea((()=>o("p",null,"上传登录页LOGO",-1))),ca=A({props:{tenantShowInfo:{type:Object,required:!0}},emits:["reloadData"],setup(e,{emit:a}){const u=e,d=q(),i=l(null),r=l(null),p=l("1"),v=l(!1),m=l(localStorage.getItem("tenantId")),f=l({"zgj-token":L().token});P((()=>u.tenantShowInfo),(()=>{p.value=u.tenantShowInfo.pageWatermark}));const y=()=>{v.value=!0;const e=new FormData;return e.append("type",3),e.append("pageWatermark","1"===p.value?"0":"1"),new Promise(((l,s)=>{N.updatePageSetting(m.value,e).then((()=>{if(v.value=!1,p.value="1"===p.value?"0":"1",localStorage.setItem("watermark",p.value),j(),"1"===p.value){const e=JSON.parse(localStorage.getItem("accountInfo")).userInfo.userName+" "+C().format("YYYY-MM-DD HH:mm");T(e)}return a("reloadData"),l(!0)}),(()=>(v.value=!1,s(new Error("Error")))))}))},w=e=>{if(!e)return;const a=e.name.substring(e.name.lastIndexOf(".")+1),l=e.size/1024/1024<2;return"png"!==a&&"jpg"!==a&&"jpeg"!==a?(E.warning("请上传文件格式为png、jpg、jpeg的图片"),!1):l?void 0:(E.warning("上传图片大小不能超过2MB"),!1)},b=(e,a)=>{i.value=D+e.data,d.setHomeUrl(e.data)},I=(e,a)=>{r.value=D+e.data},k=(e,a,l)=>{x(e)};return(e,a)=>{const l=B,d=s("el-switch"),V=s("el-image"),P=s("el-upload");return n(),t("div",aa,[c(l,{label:"系统页面设置"}),o("div",la,[sa,c(d,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),loading:v.value,size:"large","active-value":"1","inactive-value":"0","before-change":y},null,8,["modelValue","loading"])]),o("div",na,[c(P,{drag:"",action:`/api/tenant/tenantLogo/update/${m.value}`,headers:f.value,"show-file-list":!1,data:{type:1},"before-upload":w,"on-success":b,"on-error":k},{default:g((()=>[i.value||u.tenantShowInfo.homeLogoPath?(n(),h(V,{key:1,class:"logoImage",src:i.value||u.tenantShowInfo.homeLogoPath,fit:"scale-down"},null,8,["src"])):(n(),t("div",ta,[o("div",null,[o("img",{class:"uploadIcon",src:i.value},null,8,oa),ua])]))])),_:1},8,["action","headers"])]),o("div",da,[c(P,{drag:"",action:`/api/tenant/tenantLogo/update/${m.value}`,headers:f.value,data:{type:2},"show-file-list":!1,"before-upload":w,"on-success":I,"on-error":k},{default:g((()=>[r.value||u.tenantShowInfo.loginLogoPath?(n(),h(V,{key:1,class:"logoImage",src:r.value||u.tenantShowInfo.loginLogoPath,fit:"scale-down"},null,8,["src"])):(n(),t("div",ia,[o("img",{class:"uploadIcon",src:r.value},null,8,ra),pa]))])),_:1},8,["action","headers"])])])}}},[["__scopeId","data-v-2361cdc9"]]),va={class:"comp-info","element-loading-text":"Loading..."},ma=v({name:"CompanyName"}),fa=A(Object.assign(ma,{setup(e){const a=l(!1),s=l({}),o=l({}),d=l({}),r=l({}),p=l({}),v=()=>{a.value=!0,N.getTenantInfo().then((e=>{s.value=e.data.tenant,o.value=e.data.tenantBaseInfo,d.value=e.data.tenantAdminInfo,e.data.tenantShowInfo.homeLogoPath=e.data.tenantShowInfo.homeLogoPath?D+e.data.tenantShowInfo.homeLogoPath:"",e.data.tenantShowInfo.loginLogoPath=e.data.tenantShowInfo.loginLogoPath?D+e.data.tenantShowInfo.loginLogoPath:"",p.value=e.data.tenantShowInfo,e.data.passwordPolicy.passwordRules=[],"1"===e.data.passwordPolicy.passUppercase&&e.data.passwordPolicy.passwordRules.push("passUppercase"),"1"===e.data.passwordPolicy.passLowercase&&e.data.passwordPolicy.passwordRules.push("passLowercase"),"1"===e.data.passwordPolicy.passNum&&e.data.passwordPolicy.passwordRules.push("passNum"),"1"===e.data.passwordPolicy.passSpecial&&e.data.passwordPolicy.passwordRules.push("passSpecial"),r.value=e.data.passwordPolicy,a.value=!1}),(()=>{a.value=!1}))};return _((()=>{v()})),(e,l)=>{const m=S("loading");return n(),h(F,{style:{padding:"16px"},free:!0},{default:g((()=>[u((n(),t("div",va,[c(i(X),{tenant:s.value,onReloadData:v},null,8,["tenant"]),c(i(Ze),{tenantBaseInfo:o.value,tenantAdminInfo:d.value,passwordPolicy:r.value,onReloadData:v},null,8,["tenantBaseInfo","tenantAdminInfo","passwordPolicy"]),c(i(ca),{tenantShowInfo:p.value,onReloadData:v},null,8,["tenantShowInfo"])])),[[m,a.value]])])),_:1})}}}),[["__scopeId","data-v-b43e8084"]]);export{fa as default};
