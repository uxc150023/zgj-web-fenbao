import{c as t}from"./table-7b07b9a5.js";import{_ as a}from"./searchForm-7d992d01.js";import{c as e}from"./pagination-c0fecb51.js";import{c as o}from"./Layout-d1d9ddbf.js";import{B as n,H as i}from"./chunk-vform-6b80d696.js";import{c as l}from"./batch-f5c51482.js";import{aA as r,ay as s,ag as p,as as d,o as m,x as u,bj as c,p as b,a$ as h,ae as g,m as y,n as f}from"./chunk-vue-0eb5cee7.js";import"./sangedian-856844bf.js";import"./ketanchude-51586196.js";import"./KDocumentTypeDialog-a877b983.js";import"./chunk-element-plus-b8773542.js";import"./chunk-ant-design-vue-bd7f8294.js";import"./chunk-@ant-design-icons-svg-8f5189a2.js";import"./chunk-@ant-design-icons-vue-ff9a333c.js";const v={systemOperation:t=>n({method:"GET",url:"/log/operation/page",params:t})},j=b("div",{class:"title"},"系统操作日志",-1),k={class:"batch"},A={setup(n){const A=r(!1),w=r(!1),P=s({componentsSearchForm:{style:{lineStyle:{width:"30%"},labelStyle:{width:"100px"}},data:[{id:"name",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"请输入操作人/操作模块/操作内容"}},{id:"picker",label:"选择时间",type:"picker",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"name",label:"所属部门",type:"derivable",inCommonUse:!0,defaultAttribute:{placeholder:"请选择"}}],butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:[{prop:"accountNo",label:"操作人",sortable:!0,"min-width":150},{prop:"organName",label:"所在部门",sortable:!0,"min-width":180},{prop:"createTime",label:"操作时间",sortable:!0,"min-width":150},{prop:"module",label:"操作模块",sortable:!0,"min-width":180},{prop:"contentType",label:"操作内容",sortable:!0,"min-width":180}],data:[],defaultAttribute:{stripe:!0,"header-cell-style":{background:"var(--jy-color-fill--3)"}}},componentsPagination:{data:{amount:0,index:1,pageNumber:10},defaultAttribute:{layout:"prev, pager, next, jumper",total:0,"page-sizes":[10,100,200,300,400],background:!0}}});function S(t,a){"derivable"===t.type&&(A.value=!0)}const T=()=>(w.value=!0,v.systemOperation({keyword:"",pageNo:P.componentsPagination.data.index,pageSize:P.componentsPagination.data.pageNumber}).then((t=>(P.componentsTable.data=t.data.records,P.componentsPagination.data.amount=t.data.total,P.componentsPagination.defaultAttribute.total=t.data.total,w.value=!1,t)))),D=t=>{P.componentsPagination.data.index=t,T()},x=t=>{P.componentsPagination.data.pageNumber=t,T()};return p((()=>{T()})),(n,r)=>(d(),m("div",null,[u(o,{Layout:"title,searchForm,table,pagination,batch"},{title:c((()=>[j])),searchForm:c((()=>[b("div",null,[u(h(a),{data:h(P).componentsSearchForm.data,butData:h(P).componentsSearchForm.butData,style:g(h(P).componentsSearchForm.style),onClickElement:S},null,8,["data","butData","style"])])])),batch:c((()=>[b("div",k,[u(l)])])),table:c((()=>[b("div",null,[u(h(t),{defaultAttribute:h(P).componentsTable.defaultAttribute,data:h(P).componentsTable.data,loading:w.value,header:h(P).componentsTable.header,paginationData:h(P).componentsPagination.data,isSelection:!0},null,8,["defaultAttribute","data","loading","header","paginationData"])])])),pagination:c((()=>[u(e,{data:h(P).componentsPagination.data,defaultAttribute:h(P).componentsPagination.defaultAttribute,onCurrentChange:D,onSizeChange:x},null,8,["data","defaultAttribute"])])),_:1}),A.value?(d(),y(h(i),{key:0,show:A.value,"onUpdate:show":r[0]||(r[0]=t=>A.value=t)},null,8,["show"])):f("",!0)]))}};export{A as default};
