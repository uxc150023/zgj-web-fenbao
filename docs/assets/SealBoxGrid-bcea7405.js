import{c as e}from"./Layout-442da1ba.js";import{_ as t,a,b as o,M as s}from"./seal-zn-error-icon-5da619f0.js";import{aF as n,as as l,o as i,p as c,n as r,ac as d,ae as u,aT as m,m as p,bj as h,bo as g,w as x,aw as k,at as b,ay as C,ag as y,al as f,x as v,a$ as S,F as B,aD as E}from"./chunk-vue-0eb5cee7.js";import{g as w,j as I}from"./chunk-vform-c3afb8ec.js";import"./chunk-element-plus-b8773542.js";import"./chunk-ant-design-vue-bd7f8294.js";import"./chunk-@ant-design-icons-svg-8f5189a2.js";import"./chunk-@ant-design-icons-vue-ff9a333c.js";const _={name:"MouthCard",props:{platform:{type:String,default:"pc"},state:{type:Number,default:0},inBoxState:{type:Number,default:0},bindState:{type:Number,default:1},cancel:{type:Boolean,default:!1},ignoreException:{default:()=>!1},productName:{type:String,default:"-"},boxCode:{type:String,default:"-"}},computed:{isCancel(){return!this.cancel},isError(){return 0!==this.state&&this.state},isBound(){return 1===this.bindState},isInBox(){return 1===this.inBoxState},showImgIn(){return this.isBound&&(this.isInBox&&!this.isError||this.isError&&-2===this.state)},showImgOutNormal(){return this.isBound&&!this.isInBox&&!this.isError},showImgOutError(){return this.isBound&&this.isError&&-1===this.state},handleImgUrl(){let e="";return this.showImgIn?e="status_in.png":this.showImgOut?e="status_out.png":this.showImgOutError&&(e="staus_small_error_out.png",e="status_out.png"),e}},data:()=>({}),methods:{unlock(e){this.$emit("unlock",e)},check(e){this.$emit("check",e)},unlockReturn(e){this.$emit("unlockReturn",e)},Cancel(e){this.$emit("cancel",e)},goDetail(){this.$emit("goDetail")}}},N={class:"card-container"},M={key:0,class:"status-label"},F={key:1,class:"status-label"},j={class:"card-column left"},A={key:1,src:t},D={key:2,src:a},O={key:3,src:o},J={key:0,class:"card-name name-style"},V={key:1,class:"card-name name-style"},G=(e=>(k("data-v-3505bead"),e=e(),b(),e))((()=>c("div",{class:"card-column center"},null,-1))),U={class:"card-column right"},$={key:0,class:"pc-name"},L={class:"btns"},z=x(" 开锁 "),T=x(" 盘点 "),P=x(" 注销 ");const R=w(_,[["render",function(e,t,a,o,s,x){const k=n("el-button");return l(),i("div",N,[c("div",{class:d("pc"===a.platform?"card-pc":"card-terminal"),style:u({border:x.isCancel?"1px dashed #c0c4cc":"",background:x.isCancel?"#F5F5F5":"#FFFFFF"}),onClick:t[0]||(t[0]=g(((...e)=>x.goDetail&&x.goDetail(...e)),["stop"]))},[a.ignoreException?(l(),i("div",M,"格口异常(已忽略)")):r("",!0),x.isError&&!a.ignoreException?(l(),i("div",F," 格口异常 ")):r("",!0),c("div",j,[c("div",{class:d(["img-box size-box",x.isError?"error-bg":"normal-bg"])},["terminal"===a.platform?(l(),i("div",{key:0,class:"terminal-name",style:u({color:x.isError?"#ffffff":"#c0c4cc"})},m(a.boxCode),5)):r("",!0),x.showImgIn?(l(),i("img",A)):r("",!0),x.showImgOutNormal?(l(),i("img",D)):r("",!0),x.showImgOutError?(l(),i("img",O)):r("",!0)],2),x.isBound?(l(),i("div",J,m(a.productName),1)):(l(),i("div",V,"未绑定印章"))]),G,c("div",U,["pc"===a.platform?(l(),i("div",$,m(a.boxCode),1)):r("",!0),c("div",L,[x.isCancel?r("",!0):(l(),p(k,{key:0,class:"unlock-btn btn",onClick:g(x.unlock,["stop"])},{default:h((()=>[z])),_:1},8,["onClick"])),x.isCancel?r("",!0):(l(),p(k,{key:1,class:"check-btn btn",onClick:g(x.check,["stop"])},{default:h((()=>[T])),_:1},8,["onClick"])),x.isCancel?(l(),p(k,{key:2,class:"unlock-btn btn seal-btn",onClick:g(x.Cancel,["stop"])},{default:h((()=>[P])),_:1},8,["onClick"])):r("",!0),r("",!0)])])],6)])}],["__scopeId","data-v-3505bead"]]),q=e=>(k("data-v-921dcee3"),e=e(),b(),e),Q={class:"PrintControlManagement-IntelligentSealBoxManagement"},H=q((()=>c("div",{class:"title"},[c("div",null,"格口管理")],-1))),K={class:"search"},W={class:"select-wrap"},X=q((()=>c("span",{class:"search-label"},"终端名称",-1))),Y={class:"box-card"},Z={key:0,class:"status"},ee={class:"columns-check"},te={class:"check-flex"},ae=x(" 查看最近一次盘点结果"),oe=x("一键盘点"),se={class:"columns-status"},ne={class:"el-row-wrap"},le=w({setup(t){const a=I(),o=C({lastCheckTime:"2022-12-26 12:00:00",terminalGrid:"243印章盒001",termialOptions:[{id:1,name:"243印章盒001",label:1},{id:2,name:"243印章盒002",label:2},{id:3,name:"243印章盒003",label:3}],mouthLists:[{state:0,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-1",productName:"243测试章"},{state:-1,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-2",productName:"243测试章"},{state:-2,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-3",productName:"243测试章"},{state:0,inBoxState:0,bindState:0,link:"",ignoreException:!1,boxCode:"A-1-4",productName:"243测试章"},{state:0,inBoxState:0,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-5",productName:"243测试章"},{state:-2,inBoxState:0,bindState:1,link:"",ignoreException:!0,boxCode:"A-1-6",productName:"243测试章"},{state:1,inBoxState:1,bindState:1,link:!1,ignoreException:!1,boxCode:"A-1-7",productName:"243测试章"},{state:1,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-8",productName:"243测试章"},{state:1,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-9",productName:"243测试章"}],JyElMessageBox:{show:!1,header:{data:""},content:{data:""}}});function d(){a.push({name:"ViewCheckInfo"})}return y((()=>{})),f((()=>{})),(t,u)=>{const g=n("el-option"),k=n("el-select"),b=n("el-button"),C=n("el-col"),y=n("el-row"),f=n("JyElMessageBox");return l(),i("div",Q,[v(e,{Layout:"title,searchForm,custom"},{title:h((()=>[H,c("div",K,[c("div",W,[X,v(k,{modelValue:S(o).terminalGrid,"onUpdate:modelValue":u[0]||(u[0]=e=>S(o).terminalGrid=e),placeholder:"请选择终端名称",size:"small",onChange:t.changeSelect},{default:h((()=>[(l(!0),i(B,null,E(S(o).termialOptions,(e=>(l(),p(g,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])]),c("div",Y,[0!==S(o).mouthLists.length?(l(),i("div",Z,[c("div",ee,[c("u",te,[c("div",{class:"check-last",onClick:d},[ae,c("span",null,"("+m(S(o).lastCheckTime)+")",1)])]),v(b,{class:"check-button",type:"primary",onClick:t.checkAll},{default:h((()=>[oe])),_:1},8,["onClick"])])])):r("",!0)])]),c("div",se,[v(s)])])),custom:h((()=>[c("div",ne,[v(y,{type:"flex",gutter:16,justify:"space-between",style:{"flex-wrap":"wrap","min-width":"1000px"}},{default:h((()=>[(l(!0),i(B,null,E(S(o).mouthLists,((e,o)=>(l(),p(C,{span:8,style:{"margin-bottom":"16px"},key:o},{default:h((()=>[v(S(R),{platform:"pc",state:e.state,inBoxState:e.inBoxState,bindState:e.bindState,cancel:e.link,ignoreException:e.ignoreException,boxCode:e.boxCode,productName:e.productName,onGoDetail:e=>{a.push({path:"/frontDesk/printControlManage/equipmentManage/intelligentSealBoxManagement/sealBoxGridInfo"})},onUnlock:a=>t.handleUnlock(e),onCheck:a=>t.handlePan(e),onCancel:a=>t.handleCancel(e)},null,8,["state","inBoxState","bindState","cancel","ignoreException","boxCode","productName","onGoDetail","onUnlock","onCheck","onCancel"])])),_:2},1024)))),128)),(l(),i(B,null,E(3,(e=>v(C,{span:8,style:{"margin-bottom":"16px"},key:9*e}))),64))])),_:1})])])),_:1}),v(f,{modelValue:S(o).JyElMessageBox.show,"onUpdate:modelValue":u[1]||(u[1]=e=>S(o).JyElMessageBox.show=e),show:S(o).JyElMessageBox.show,defaultAttribute:{}},{header:h((()=>[x(m(S(o).JyElMessageBox.header.data),1)])),content:h((()=>[x(m(S(o).JyElMessageBox.content.data),1)])),_:1},8,["modelValue","show"])])}}},[["__scopeId","data-v-921dcee3"]]);export{le as default};
