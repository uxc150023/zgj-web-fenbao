System.register(["./chunk-vform-legacy-c59809de.js","./gengduo-caozuo-legacy-91422780.js","./JyTable-legacy-1eb202db.js","./authorityManagement-legacy-43913ceb.js","./chunk-element-plus-legacy-93ba4a6a.js","./chunk-vue-legacy-ac482c0f.js","./chunk-ant-design-vue-legacy-1182637d.js","./chunk-@ant-design-icons-svg-legacy-99a059a7.js","./chunk-@ant-design-icons-vue-legacy-38d6bf6a.js","./sangedian-legacy-1dcf1313.js","./Layout-legacy-06b00f84.js","./searchForm-legacy-d255e433.js","./ketanchude-legacy-190a1e99.js","./KDocumentTypeDialog-legacy-603b2f75.js","./pagination-legacy-9ca6ffcd.js","./batch-legacy-77d389cd.js","./index-legacy-d26760d0.js"],(function(e,l){"use strict";var t,a,o,n,r,s,u,d,i,c,m,h,g,p,y,f,b,v,w,x,j=document.createElement("style");return j.textContent=".title[data-v-a7e92323]{display:flex;align-items:center;justify-content:space-between}.title .title-more[data-v-a7e92323]{height:100%;display:flex;align-items:center}.title .title-more .title-more-add[data-v-a7e92323]{margin-right:.5rem;height:100%;display:flex;align-items:center}.title .title-more .title-more-down[data-v-a7e92323]{height:100%;display:flex;align-items:center}.custom-label[data-v-a7e92323]{position:relative;width:280px;color:rgba(0,0,0,.85)}.custom-label .msg[data-v-a7e92323]{position:absolute;bottom:-20px;left:0px;font-size:12px;color:rgba(0,0,0,.45)}\n",document.head.appendChild(j),{setters:[e=>{t=e.g,a=e.j,o=e.n},e=>{n=e._},e=>{r=e.J},e=>{s=e.a},e=>{u=e.E},e=>{d=e.ay,i=e.aA,c=e.aF,m=e.as,h=e.o,g=e.x,p=e.bj,y=e.p,f=e.a$,b=e.w,v=e.aT,w=e.aw,x=e.at},null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l=[{prop:"roleNo",label:"角色编码",sortable:!0,flex:!0,"min-width":150,show:!0},{prop:"roleName",label:"角色名称",sortable:!0,"min-width":150,show:!0},{prop:"roleUserNumber",label:"角色人员数",sortable:!0,"min-width":150,show:!0},{prop:"caozuo",label:"操作",fixed:"right","min-width":200,align:"center",show:!0,rankDisplayData:[{name:"t-zgj-Edit"},{name:"t-zgj-Delete"},{name:"t-zgj-sync.AuthSetting"},{name:"t-zgj-sync.PersonManage"}]}],j=e=>(w("data-v-a7e92323"),e=e(),x(),e),B={class:"title"},_=j((()=>y("div",null,"权限管理",-1))),A={class:"title-more"},N={class:"title-more-add"},k=b(" + 新建 "),C={class:"title-more-down"},z=j((()=>y("img",{class:"button-icon",src:n,alt:"",srcset:""},null,-1))),E=j((()=>y("span",null,"更多操作",-1))),I=b(" 基础数据权限配置 "),T=b("导入"),M=j((()=>y("div",{class:"custom-label"},[y("div",null,"向上继承"),y("div",{class:"msg"},"可以查看下级部门员工创建的数据")],-1))),D=j((()=>y("div",{class:"custom-label"},[y("div",null,"仅自己"),y("div",{class:"msg"},"仅可以查看创建人为自己的数据")],-1)));e("default",t({setup(e){const t=a(),n=d({componentsSearchForm:{style:{lineStyle:{width:"30%"},labelStyle:{width:"100px"}},data:[{id:"keyWord",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"角色编码/角色名称"}}],butData:[{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:l,defaultAttribute:{stripe:!0,"header-cell-style":{background:"var(--jy-color-fill--3)"},"cell-style":({row:e,column:l,rowIndex:t,columnIndex:a})=>{if("2"===l.property)return{color:"var(--jy-info-6)",cursor:"pointer"}}}},componentsPagination:{data:{amount:400,index:1,pageNumber:80},defaultAttribute:{layout:"prev, pager, next, jumper",total:500,"page-sizes":[10,100,200,300,400],background:!0}},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[{name:"批量删除"}]},JyElMessageBox:{show:!1,header:{data:""},content:{data:""}}}),w=i(!1),x=i(!1),j=i(null),S=i(null),V=i(!1),J=i(null),L=d({roleNo:"",roleName:""}),U=d({roleName:[{required:!0,message:"请输入角色名称",trigger:"change"}]}),F=d({userBaseAuth:"1",leaderLowerAuth:!0,roleConfigId:""}),$=i(null);function P(e,l,t,a){}function q(e,l,a,o){"t-zgj-Edit"===a.name&&(w.value=!0,V.value=!0,L.roleNo=l.roleNo,L.roleName=l.roleName,L.roleId=l.roleId),"t-zgj-Delete"===a.name&&(n.JyElMessageBox.header.data="提示？",n.JyElMessageBox.content.data="您确定要删除该记录吗？",n.JyElMessageBox.show=!0,$.value=l.roleId),"t-zgj-sync.AuthSetting"===a.name&&t.push({path:"/system/companyManage/departmentStaff/config",query:{roleId:l.roleId,roleName:l.roleName}}),"t-zgj-sync.PersonManage"===a.name&&t.push({path:"/system/companyManage/departmentStaff/person",query:{roleId:l.roleId,roleName:l.roleName}})}const H=()=>{s.roleDelete($.value).then((e=>{u.success("操作成功"),n.JyElMessageBox.show=!1,J.value.reloadData()}))},R=(e,l)=>{const t=[];l.forEach((e=>{t.push(e.roleId)})),s.batchDelete({roleIds:t}).then((()=>{u.success("操作成功"),J.value.reloadData()}))},W=()=>{s.getSetting().then((e=>{F.userBaseAuth=e.data.userBaseAuth,F.leaderLowerAuth="1"===e.data.leaderLowerAuth,F.roleConfigId=e.data.roleConfigId,x.value=!0}))},K=()=>{j.value.validate((e=>{if(e){let e="";e=V.value?"roleEdit":"roleData",s[e]({...L}).then((e=>{u.success("操作成功"),w.value=!1,J.value.reloadData()}))}}))},O=()=>{S.value.validate((e=>{e&&s.editSetting({userBaseAuth:F.userBaseAuth,leaderLowerAuth:F.leaderLowerAuth?"1":"0",roleConfigId:F.roleConfigId}).then((e=>{u.success("操作成功"),x.value=!1,J.value.reloadData()}))}))},Q=()=>{w.value=!0,V.value=!1,s.generateBizNo().then((e=>{L.roleNo=e.data,L.roleName=""}))};return(e,l)=>{const t=c("el-button"),a=c("el-dropdown-item"),s=c("el-dropdown-menu"),u=c("el-dropdown"),d=c("el-input"),i=c("el-form-item"),$=c("el-form"),X=o,Y=c("el-radio"),Z=c("el-radio-group"),G=c("el-switch"),ee=c("JyElMessageBox");return m(),h("div",null,[g(r,{url:"/role/page",ref_key:"table",ref:J,method:"POST",hasTree:!1,tableClick:"",componentsSearchForm:f(n).componentsSearchForm,componentsTableHeader:f(n).componentsTable.header,componentsBatch:f(n).componentsBatch,onClickBatchButton:R,onCellClick:P,onCustomClick:q},{title:p((()=>[y("div",B,[_,y("div",A,[y("div",N,[g(t,{type:"primary",onClick:Q},{default:p((()=>[k])),_:1})]),y("div",C,[g(u,null,{dropdown:p((()=>[g(s,null,{default:p((()=>[g(a,{onClick:W},{default:p((()=>[I])),_:1})])),_:1}),g(s,null,{default:p((()=>[g(a,null,{default:p((()=>[T])),_:1})])),_:1})])),default:p((()=>[g(t,null,{default:p((()=>[z,E])),_:1})])),_:1})])])])])),_:1},8,["componentsSearchForm","componentsTableHeader","componentsBatch"]),g(X,{"onUpdate:show":l[2]||(l[2]=e=>w.value=e),show:w.value,title:V.value?e.$t("t-zgj-Edit"):e.$t("t-zgj-add"),centerBtn:!0,confirmText:e.$t("t-zgj-operation.submit"),concelText:e.$t("t-zgj-operation.cancel"),width:600,height:160,onConfirm:K},{default:p((()=>[g($,{model:f(L),rules:f(U),ref_key:"vFormLibraryRef",ref:j,"label-width":"80px"},{default:p((()=>[g(i,{label:"角色编码",prop:"roleNo"},{default:p((()=>[g(d,{modelValue:f(L).roleNo,"onUpdate:modelValue":l[0]||(l[0]=e=>f(L).roleNo=e),disabled:""},null,8,["modelValue"])])),_:1}),g(i,{label:"角色名称",prop:"roleName"},{default:p((()=>[g(d,{modelValue:f(L).roleName,"onUpdate:modelValue":l[1]||(l[1]=e=>f(L).roleName=e),clearable:"",maxlength:"128"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["show","title","confirmText","concelText"]),g(X,{"onUpdate:show":l[5]||(l[5]=e=>x.value=e),show:x.value,title:"基础数据权限配置",centerBtn:!0,confirmText:e.$t("t-zgj-operation.submit"),concelText:e.$t("t-zgj-operation.cancel"),width:1e3,height:160,onConfirm:O},{default:p((()=>[g($,{model:f(F),ref_key:"vFormSettingRef",ref:S,"label-width":"280px"},{default:p((()=>[g(i,{label:"用户基础权限",prop:"userBaseAuth",style:{margin:"10px 0 38px 0"}},{default:p((()=>[g(Z,{modelValue:f(F).userBaseAuth,"onUpdate:modelValue":l[3]||(l[3]=e=>f(F).userBaseAuth=e)},{default:p((()=>[g(Y,{label:"1"},{default:p((()=>[M])),_:1}),g(Y,{label:"2"},{default:p((()=>[D])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(i,{label:"部门主管是否拥有部门员工权限",prop:"leaderLowerAuth"},{default:p((()=>[g(G,{modelValue:f(F).leaderLowerAuth,"onUpdate:modelValue":l[4]||(l[4]=e=>f(F).leaderLowerAuth=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["show","confirmText","concelText"]),g(ee,{modelValue:f(n).JyElMessageBox.show,"onUpdate:modelValue":l[6]||(l[6]=e=>f(n).JyElMessageBox.show=e),show:f(n).JyElMessageBox.show,defaultAttribute:{},onConfirmClick:H},{header:p((()=>[b(v(f(n).JyElMessageBox.header.data),1)])),content:p((()=>[b(v(f(n).JyElMessageBox.content.data),1)])),_:1},8,["modelValue","show"])])}}},[["__scopeId","data-v-a7e92323"]]))}}}));
